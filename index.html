<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bill Layne Insurance Agency - Independent Insurance in Elkin, NC</title>
    <meta name="description" content="Get personalized insurance coverage from Bill Layne Insurance Agency. Auto, home, life, and business insurance in Elkin, Mount Airy, and Surry County, NC. Call (336) 835-1993.">
    
    <!-- SEO Meta Tags (Preserved) -->
    <link rel="canonical" href="https://www.billlayneinsurance.com/">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Bill Layne Insurance Agency - Independent Insurance in Elkin, NC">
    <meta property="og:description" content="Get personalized insurance coverage from Bill Layne Insurance Agency. Auto, home, life, and business insurance in Elkin, Mount Airy, and Surry County, NC.">
    <meta property="og:url" content="https://www.billlayneinsurance.com/">
    <meta property="og:site_name" content="Bill Layne Insurance Agency">
    <meta property="og:image" content="https://i.imgur.com/cBAgeX8.png">
    <meta property="og:locale" content="en_US">
    <meta name="twitter:card" content="summary_large_image">
    
    <!-- Performance optimizations -->
    <meta http-equiv="Cache-Control" content="public, max-age=7200, must-revalidate">
    <meta http-equiv="X-DNS-Prefetch-Control" content="on">
    <link rel="preconnect" href="https://raw.githubusercontent.com">
    <link rel="dns-prefetch" href="https://raw.githubusercontent.com">
    <link rel="preconnect" href="https://github.com">
    <link rel="dns-prefetch" href="https://github.com">
    
    <!-- Version Definition -->
    <script>
        // SITE VERSION - Update this when making changes
        window.SITE_VERSION = '2024.12.13.1';
        
        // Check if in development mode
        const isDevelopment = window.location.hostname === 'localhost' || 
                             window.location.hostname === '127.0.0.1' ||
                             window.location.search.includes('dev=true');
        
        // Auto-versioning for development only
        if (isDevelopment) {
            window.SITE_VERSION = Date.now();
            console.log('Development mode: Cache disabled');
        }
    </script>
    
    <!-- Resource Hints for Performance -->
    <!-- DNS Prefetch for external resources -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//github.com">
    <link rel="dns-prefetch" href="//cdn.tailwindcss.com">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    
    <!-- Preconnect for critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="style.css?v=2024.12.13.1" as="style">
    <link rel="preload" href="app.js?v=2024.12.13.1" as="script">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" as="style">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="preload" href="https://github.com/BillLayne/bill-layne-images/blob/main/img/elkin-nc-foothills.jpg?raw=true" as="image">
    
    <!-- Local Styles with Version -->
    <link rel="stylesheet" href="style.css?v=2024.12.13.1">

    <!-- Critical inline CSS for above-the-fold content -->
    <style>
        /* Critical CSS to prevent layout shift */
        body { margin: 0; }
        header { position: fixed; top: 0; width: 100%; background: white; z-index: 50; min-height: 80px; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 1rem; }
        .hidden { display: none; }
        /* Navigation styles */
        .nav-link { 
            /* Basic nav link styles without display override */
        }
        .bg-gray-50 { background-color: #f9fafb; }
        .text-gray-800 { color: #1f2937; }
        .bg-white { background-color: #ffffff; }
        .shadow-sm { box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); }
    </style>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            important: true
        }
    </script>

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        /* Custom styles for animations and specific elements */
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            scroll-behavior: smooth;
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp {
            animation: fadeInUp 0.8s ease-out forwards;
        }
        /* Fix: Ensure header is always visible */
        #main-header {
            background-color: rgba(255, 255, 255, 0.98) !important;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        /* Initial state - at top of page */
        #main-header.header-initial {
            background-color: rgba(255, 255, 255, 0.98) !important;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        /* Scrolled state */
        #main-header.header-scrolled {
            background-color: rgba(255, 255, 255, 0.95) !important;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        /* Ensure logo and nav items are always visible */
        #main-header .text-amber-800 {
            color: #92400e !important;
            opacity: 1 !important;
        }

        /* Navigation link styles without display override */
        #main-header .nav-link {
            color: #374151 !important; /* gray-700 */
            opacity: 1 !important;
            visibility: visible !important;
            font-weight: 500;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        #main-header .nav-link:hover {
            color: #2563eb !important; /* blue-600 */
        }

        /* Ensure dropdown menu items are visible */
        #main-header .dropdown-menu {
            opacity: 1 !important;
        }
        
        #main-header .dropdown-menu a {
            color: #374151 !important;
            opacity: 1 !important;
            display: block !important;
        }

        #main-header .dropdown-menu a:hover {
            background-color: #f3f4f6 !important;
            color: #2563eb !important;
        }

        /* Fix Services and Areas dropdown button text */
        #main-header button.nav-link {
            color: #374151 !important;
            opacity: 1 !important;
            visibility: visible !important;
            background: transparent;
            border: none;
            cursor: pointer;
        }

        /* Ensure all text in nav is visible */
        #main-header nav * {
            opacity: 1 !important;
            visibility: visible !important;
        }

        #main-header .text-gray-700 {
            color: #374151 !important;
            opacity: 1 !important;
        }

        /* OLD MOBILE MENU STYLES - COMMENTED OUT
        These have been replaced by the unified mobile menu styles
        
        @media (max-width: 767px) {
            #mobile-menu-button {
                display: block !important;
                color: #374151 !important;
                opacity: 1 !important;
                background: none;
                border: none;
                padding: 0.5rem;
                cursor: pointer;
                transition: all 0.2s ease;
            }
            
            #mobile-menu-button:hover {
                color: #2563eb !important;
            }
        }
        
        @media (min-width: 768px) {
            #mobile-menu-button {
                display: none !important;
            }
        }
        
        #mobile-menu a {
            display: block;
            padding: 1rem 1.5rem;
            color: #374151;
            text-decoration: none;
            font-weight: 500;
            border-bottom: 1px solid #e5e7eb;
            transition: all 0.2s ease;
        }
        
        #mobile-menu a:hover {
            background-color: #f3f4f6;
            color: #2563eb;
            padding-left: 2rem;
        }
        
        #mobile-menu .p-4 {
            padding: 1.5rem;
            background-color: #f9fafb;
        }
        
        #mobile-menu .p-4 a {
            border: none;
            background-color: #2563eb;
            color: white;
            text-align: center;
            padding: 1rem;
            border-radius: 9999px;
            font-weight: 600;
        }
        
        #mobile-menu .p-4 a:hover {
            background-color: #1d4ed8;
            padding-left: 1rem;
        }
        END OF OLD MOBILE MENU STYLES */
        
        /* Mobile Header Layout */
        @media (max-width: 767px) {
            #main-header > div > div {
                display: flex !important;
                justify-content: space-between;
                align-items: center;
                padding: 0 1rem;
                height: 60px;
            }
            
            #main-header .text-2xl {
                font-size: 1.25rem;
            }
            
            /* Ensure mobile menu is properly positioned */
            #main-header {
                position: fixed;
            }
            
            /* Add padding to main content to account for fixed header */
            main {
                padding-top: 60px;
            }
        }
        
        /* Fix for the phone number link */
        #main-header a[href^="tel:"] {
            color: #374151 !important;
            font-weight: 600 !important;
            opacity: 1 !important;
            visibility: visible !important;
        }

        #main-header a[href^="tel:"]:hover {
            color: #2563eb !important;
        }

        /* Fix Get a Quote button */
        #main-header .bg-blue-600 {
            background-color: #2563eb !important;
            color: #ffffff !important;
            opacity: 1 !important;
            visibility: visible !important;
        }
        
        /* Fix Navigation Spacing and Centering - Desktop only */
        @media (min-width: 768px) {
            #main-header .container {
                max-width: 1400px;
                margin: 0 auto;
            }

            #main-header > div > div {
                display: grid;
                grid-template-columns: 250px 1fr 300px;
                align-items: center;
                gap: 2rem;
                height: 80px;
            }

            /* Logo section */
            #main-header .text-2xl {
                white-space: nowrap;
            }

            /* Center navigation */
            #main-header nav.hidden.md\:flex {
                justify-content: center;
                align-items: center;
            }

            #main-header nav .flex.items-center.space-x-1 {
                display: flex;
                align-items: center;
                gap: 1.5rem;
            }

            /* Right section (phone & CTA) */
            #main-header .hidden.md\:flex.items-center.space-x-4 {
                justify-content: flex-end;
                align-items: center;
            }
        }

        /* Fix Dropdown Menu Hover Issues */
        .group {
            position: relative;
        }

        /* Remove gap between button and dropdown */
        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            margin-top: 0; /* Remove any gap */
            padding-top: 0.5rem; /* Add padding inside instead */
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.2s ease;
            z-index: 50;
        }

        /* Add invisible bridge to maintain hover */
        .group::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            height: 10px; /* Bridge height */
            background: transparent;
        }

        /* Show dropdown on hover with better stability */
        .group:hover .dropdown-menu,
        .dropdown-menu:hover {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            display: block !important;
        }

        /* Ensure dropdown stays visible when hovering over it */
        .dropdown-menu::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 0;
            right: 0;
            height: 10px;
            background: transparent;
        }

        /* Style improvements for dropdown */
        .dropdown-menu {
            background: white;
            border: 1px solid #e5e7eb;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            border-radius: 0.5rem;
            min-width: 200px;
        }

        .dropdown-menu a {
            display: block;
            padding: 0.75rem 1rem;
            color: #374151;
            text-decoration: none;
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .dropdown-menu a:hover {
            background-color: #f3f4f6;
            color: #2563eb;
            padding-left: 1.25rem;
        }
        
        /* Desktop navigation specific */
        @media (min-width: 768px) {
            /* Let Tailwind handle display properties */
            #main-header .nav-link {
                padding: 0.5rem 0.75rem;
                color: #374151 !important;
            }
        }

        /* Responsive adjustments */
        @media (max-width: 1200px) {
            #main-header > div > div {
                grid-template-columns: 200px 1fr 250px;
                gap: 1rem;
            }
            
            #main-header nav .flex.items-center.space-x-1 {
                gap: 1rem;
            }
            
            .nav-link {
                font-size: 0.95rem;
                padding: 0.5rem 0.75rem;
            }
        }

        @media (max-width: 1024px) {
            #main-header > div > div {
                grid-template-columns: 180px 1fr 220px;
                gap: 0.75rem;
            }
            
            #main-header nav .flex.items-center.space-x-1 {
                gap: 0.5rem;
            }
            
            .nav-link {
                font-size: 0.9rem;
                padding: 0.4rem 0.6rem;
            }
        }
        /* Tab styles */
        .tab-button {
            padding: 10px 20px;
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            color: #6b7280;
        }

        .tab-button:hover {
            color: #2563eb;
        }

        .tab-button.tab-active {
            color: #2563eb;
            border-bottom-color: #2563eb;
            background-color: #eff6ff;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.tab-content-active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Ensure results are visible */
        #auto-results,
        #home-results {
            background: #f0f9ff;
            border: 1px solid #3b82f6;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }

        .hidden {
            display: none !important;
        }
        
        /* Tailwind color utility fixes */
        .text-gray-700 { color: #374151 !important; }
        .text-gray-600 { color: #4b5563 !important; }
        .text-blue-600 { color: #2563eb !important; }
        .hover\:text-blue-600:hover { color: #2563eb !important; }
        .text-amber-800 { color: #92400e !important; }
        .text-white { color: #ffffff !important; }
        .bg-blue-600 { background-color: #2563eb !important; }
        .bg-white { background-color: #ffffff !important; }

        /* Accessibility: Skip Link */
        .skip-link:focus {
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 1000;
            background-color: #2563EB;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            text-decoration: none;
        }
        
        /* Reserve space for dynamic content to prevent CLS */
        .hero-section { min-height: 500px; }
        .testimonial-section { min-height: 300px; }
        .insurance-cards { min-height: 400px; }
        .partner-logos { min-height: 100px; }
        header { min-height: 80px; }

        /* ===== OLD MOBILE MENU STYLES - REPLACED BY UNIFIED DESIGN ===== */
        /* These styles are kept but commented out for reference
        #mobile-menu-button {
            position: relative;
            z-index: 60;
            padding: 8px;
            background-color: transparent;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
            display: block !important;
        }

        #mobile-menu-button:hover {
            background-color: rgba(37, 99, 235, 0.1);
            border-radius: 8px;
        }

        #mobile-menu-button svg {
            width: 28px;
            height: 28px;
            stroke: #374151;
            stroke-width: 2;
            transition: stroke 0.3s ease;
        }

        #mobile-menu-button:hover svg {
            stroke: #2563eb;
        }

        /* Mobile Menu Panel - Enhanced */
        #mobile-menu {
            position: fixed;
            top: 0;
            right: 0;
            height: 100vh;
            width: 280px;
            background-color: #ffffff;
            box-shadow: -4px 0 20px rgba(0, 0, 0, 0.15);
            z-index: 55;
            transform: translateX(100%);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-y: auto;
        }

        #mobile-menu.menu-open {
            transform: translateX(0);
        }

        /* Mobile menu links enhancement */
        #mobile-menu nav a {
            display: block;
            padding: 16px 24px;
            color: #374151;
            text-decoration: none;
            font-weight: 500;
            font-size: 16px;
            border-bottom: 1px solid #e5e7eb;
            transition: all 0.2s ease;
            position: relative;
        }

        #mobile-menu nav a:hover {
            background-color: #f3f4f6;
            color: #2563eb;
            padding-left: 32px;
        }

        #mobile-menu nav a:active {
            background-color: #e5e7eb;
        }

        /* Close button enhancement */
        #mobile-menu-close {
            position: absolute;
            top: 16px;
            right: 16px;
            padding: 8px;
            background-color: transparent;
            border: none;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s ease;
        }

        #mobile-menu-close:hover {
            background-color: #f3f4f6;
        }

        #mobile-menu-close svg {
            width: 24px;
            height: 24px;
            stroke: #6b7280;
            stroke-width: 2;
        }

        /* Call button in mobile menu */
        #mobile-menu a[href^="tel:"] {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: #ffffff !important;
            text-align: center;
            margin: 16px;
            border-radius: 12px;
            padding: 14px 20px;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
            border: none;
        }

        #mobile-menu a[href^="tel:"]:hover {
            background: linear-gradient(135deg, #16a34a, #15803d);
            padding-left: 20px;
            transform: translateY(-1px);
            box-shadow: 0 6px 16px rgba(34, 197, 94, 0.4);
        }
        End of old mobile menu styles */

        /* ===== EVALUATOR BUTTONS FIX ===== */
        /* Tab Buttons Enhancement */
        .tab-button {
            padding: 12px 24px !important;
            background: transparent !important;
            border: none !important;
            border-bottom: 3px solid transparent !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
            font-weight: 600 !important;
            color: #6b7280 !important;
            font-size: 16px !important;
            position: relative !important;
        }

        .tab-button:hover {
            color: #2563eb !important;
            background-color: rgba(37, 99, 235, 0.05) !important;
        }

        .tab-button.tab-active {
            color: #2563eb !important;
            border-bottom-color: #2563eb !important;
            background-color: #eff6ff !important;
        }

        .tab-button:focus {
            outline: 2px solid #2563eb !important;
            outline-offset: 2px !important;
        }

        /* Form Submit Buttons Enhancement */
        #auto-coverage-form button[type="submit"],
        #home-coverage-form button[type="submit"],
        button[type="submit"].w-full.bg-blue-600 {
            background: linear-gradient(135deg, #2563eb, #1d4ed8) !important;
            color: #ffffff !important;
            padding: 14px 28px !important;
            border: none !important;
            border-radius: 12px !important;
            font-size: 16px !important;
            font-weight: 600 !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
            box-shadow: 0 4px 14px rgba(37, 99, 235, 0.3) !important;
            position: relative !important;
            overflow: hidden !important;
            width: 100% !important;
        }

        #auto-coverage-form button[type="submit"]:hover,
        #home-coverage-form button[type="submit"]:hover,
        button[type="submit"].w-full.bg-blue-600:hover {
            background: linear-gradient(135deg, #1d4ed8, #1e40af) !important;
            transform: translateY(-2px) !important;
            box-shadow: 0 6px 20px rgba(37, 99, 235, 0.4) !important;
        }

        #auto-coverage-form button[type="submit"]:active,
        #home-coverage-form button[type="submit"]:active {
            transform: translateY(0) !important;
            box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3) !important;
        }

        /* Loading state for buttons */
        button[type="submit"]:disabled {
            background: linear-gradient(135deg, #9ca3af, #6b7280) !important;
            cursor: not-allowed !important;
            opacity: 0.7 !important;
        }

        /* Form inputs enhancement */
        .form-control,
        #vehicle-value,
        #daily-commute,
        #has-loan,
        #home-value,
        #personal-property,
        #has-pool {
            width: 100% !important;
            padding: 12px 16px !important;
            border: 2px solid #e5e7eb !important;
            border-radius: 8px !important;
            font-size: 16px !important;
            transition: all 0.3s ease !important;
            background-color: #ffffff !important;
        }

        .form-control:focus,
        #vehicle-value:focus,
        #daily-commute:focus,
        #has-loan:focus,
        #home-value:focus,
        #personal-property:focus,
        #has-pool:focus {
            outline: none !important;
            border-color: #2563eb !important;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1) !important;
        }

        .form-control:hover,
        #vehicle-value:hover,
        #daily-commute:hover,
        #has-loan:hover,
        #home-value:hover,
        #personal-property:hover,
        #has-pool:hover {
            border-color: #9ca3af !important;
        }

        /* Quiz restart button */
        #quiz-restart {
            background: linear-gradient(135deg, #2563eb, #1d4ed8) !important;
            color: #ffffff !important;
            padding: 12px 24px !important;
            border: none !important;
            border-radius: 8px !important;
            font-size: 16px !important;
            font-weight: 600 !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3) !important;
        }

        #quiz-restart:hover {
            background: linear-gradient(135deg, #1d4ed8, #1e40af) !important;
            transform: translateY(-2px) !important;
            box-shadow: 0 6px 16px rgba(37, 99, 235, 0.4) !important;
        }

        /* Results display enhancement */
        #auto-results,
        #home-results {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe) !important;
            border: 2px solid #3b82f6 !important;
            border-radius: 12px !important;
            padding: 24px !important;
            margin-top: 24px !important;
            animation: slideInUp 0.4s ease !important;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15) !important;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Quiz option buttons */
        .quiz-options button {
            width: 100% !important;
            padding: 14px 20px !important;
            background: #ffffff !important;
            border: 2px solid #e5e7eb !important;
            border-radius: 8px !important;
            text-align: left !important;
            font-size: 16px !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
            margin-bottom: 12px !important;
        }

        .quiz-options button:hover {
            background: #eff6ff !important;
            border-color: #3b82f6 !important;
            transform: translateX(4px) !important;
        }

        .quiz-options button:active {
            background: #dbeafe !important;
            transform: translateX(2px) !important;
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .tab-button {
                padding: 10px 16px !important;
                font-size: 14px !important;
            }
            
            #auto-coverage-form button[type="submit"],
            #home-coverage-form button[type="submit"] {
                padding: 14px 20px !important;
                font-size: 15px !important;
            }
            
            /* Old mobile menu responsive styles - commented out
            #mobile-menu-button {
                padding: 10px !important;
            }
            
            #mobile-menu {
                width: 100% !important;
                max-width: 320px !important;
            }
            */
        }

        /* Old mobile menu visibility styles - commented out
        @media (max-width: 767px) {
            #mobile-menu-button {
                display: block !important;
                visibility: visible !important;
                opacity: 1 !important;
            }
        }
        */

        /* ===== UNIFIED MOBILE MENU STYLES ===== */
        /* Mobile Menu Toggle Button */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            padding: 10px;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1001;
            -webkit-tap-highlight-color: transparent;
        }

        .mobile-menu-toggle span {
            display: block;
            width: 25px;
            height: 3px;
            background-color: #333333;
            margin: 3px 0;
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        /* Hamburger Animation */
        .mobile-menu-toggle.active span:nth-child(1) {
            transform: rotate(-45deg) translate(-5px, 6px);
            background-color: #0066ff;
        }

        .mobile-menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-toggle.active span:nth-child(3) {
            transform: rotate(45deg) translate(-5px, -6px);
            background-color: #0066ff;
        }

        /* Mobile Menu Container */
        .navbar-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 320px;
            height: 100vh;
            background: #ffffff;
            box-shadow: -4px 0 30px rgba(0, 0, 0, 0.15);
            transition: right 0.3s ease;
            z-index: 1000;
            display: flex;
            flex-direction: column;
        }

        .navbar-menu.active {
            right: 0;
        }

        /* Menu Overlay */
        .navbar-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 999;
        }

        .navbar-menu.active .navbar-menu-overlay {
            opacity: 1;
            visibility: visible;
        }

        /* Menu Content */
        .navbar-menu-content {
            position: relative;
            width: 100%;
            height: 100%;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            z-index: 1001;
            overflow-y: auto;
        }

        /* Close Button */
        .navbar-menu-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
            transition: all 0.3s ease;
            z-index: 1002;
        }

        .navbar-menu-close:hover {
            transform: rotate(90deg);
        }

        .navbar-menu-close svg {
            width: 24px;
            height: 24px;
            stroke: #333333;
        }

        /* Navigation Links */
        .navbar-menu-nav {
            padding: 80px 30px 30px;
            flex: 1;
        }

        .navbar-menu-nav .nav-link {
            display: block;
            padding: 18px 0;
            color: #333333;
            text-decoration: none;
            font-size: 18px;
            font-weight: 500;
            border-bottom: 1px solid #f0f0f0;
            transition: all 0.3s ease;
            position: relative;
        }

        .navbar-menu-nav .nav-link:hover {
            color: #0066ff;
            padding-left: 10px;
        }

        .navbar-menu-nav .nav-link:hover::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 20px;
            background: #0066ff;
        }

        /* CTA Section */
        .navbar-menu-cta {
            padding: 30px;
            background: #f8f9fa;
            border-top: 1px solid #e0e0e0;
        }

        .navbar-menu-cta .phone-cta {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 15px;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: #ffffff;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
        }

        .navbar-menu-cta .phone-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(34, 197, 94, 0.4);
        }

        .navbar-menu-cta .phone-icon {
            width: 20px;
            height: 20px;
        }

        .navbar-menu-cta .btn--primary {
            display: block;
            text-align: center;
            padding: 15px;
            background: linear-gradient(135deg, #0066ff, #0052cc);
            color: #ffffff;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3);
        }

        .navbar-menu-cta .btn--primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 102, 255, 0.4);
        }

        /* Body scroll lock */
        body.menu-open {
            overflow: hidden;
            position: fixed;
            width: 100%;
        }

        /* Mobile Display */
        @media (max-width: 900px) {
            .mobile-menu-toggle {
                display: flex;
            }
            
            /* Adjust menu width on smaller screens */
            @media (max-width: 480px) {
                .navbar-menu {
                    width: 100%;
                }
            }
        }

        /* Desktop - Hide mobile menu */
        @media (min-width: 901px) {
            .mobile-menu-toggle {
                display: none !important;
            }
            
            .navbar-menu {
                display: none !important;
            }
        }
    </style>

    <!-- Enhanced Local SEO Schema Markup (Preserved) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "LocalBusiness",
          "@id": "https://www.billlayneinsurance.com/#organization",
          "name": "Bill Layne Insurance Agency",
          "url": "https://www.billlayneinsurance.com",
          "logo": "https://i.imgur.com/cBAgeX8.png",
          "telephone": "+13368351993",
          "email": "Save@BillLayneInsurance.com",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "1283 N Bridge St",
            "addressLocality": "Elkin",
            "addressRegion": "NC",
            "postalCode": "28621",
            "addressCountry": "US"
          },
          "geo": {
            "@type": "GeoCoordinates",
            "latitude": "36.2444",
            "longitude": "-80.8486"
          },
          "openingHoursSpecification": [{
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": ["Monday","Tuesday","Wednesday","Thursday","Friday"],
            "opens": "09:00",
            "closes": "17:00"
          }],
          "sameAs": [
            "https://www.facebook.com/BillLayneInsurance",
            "https://www.yelp.com/biz/bill-layne-insurance-elkin",
            "https://www.google.com/maps/place/Bill+Layne+Insurance+Agency",
            "https://nextdoor.com/pages/bill-layne-insurance-elkin-nc"
          ],
          "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "reviewCount": "51"
          }
        },
        {
          "@type": "FAQPage",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "How much car insurance is required in North Carolina?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "North Carolina requires all drivers to have liability coverage of at least $30,000 for bodily injury for one person, $60,000 for bodily injury for two or more people, and $25,000 for property damage."
              }
            },
            {
              "@type": "Question",
              "name": "What is the average cost of homeowners insurance in Surry County?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "The average cost varies based on factors like your home's age, construction, and value. Bill Layne Insurance compares rates from multiple carriers to find you the most competitive pricing."
              }
            },
            {
              "@type": "Question",
              "name": "Do I need flood insurance in the Yadkin Valley?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "While not always required, flood insurance is highly recommended for many homeowners in the Yadkin Valley. Standard home insurance policies do not cover flood damage."
              }
            },
            {
              "@type": "Question",
              "name": "What makes Bill Layne Insurance different from online insurance companies?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "As a local independent agency in Elkin, NC, we provide personalized service you can't get from a 1-800 number. We compare quotes from multiple carriers and handle claims advocacy."
              }
            },
            {
              "@type": "Question",
              "name": "What insurance companies does Bill Layne Insurance represent?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "We represent multiple A-rated carriers including Nationwide, Progressive, National General, Travelers, Alamance Farmers, and NC Grange."
              }
            }
          ]
        }
      ]
    }
    </script>
</head>
<body class="bg-gray-50 text-gray-800">
    <a href="#main-content" class="skip-link sr-only">Skip to main content</a>
    
    <!-- Header -->
    <header id="main-header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-white shadow-sm" style="background-color: rgba(255, 255, 255, 0.98) !important; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center h-20">
                <!-- Logo (Left) -->
                <div class="flex-shrink-0">
                    <a href="index.html" class="text-2xl font-bold text-amber-800">Bill Layne Insurance</a>
                </div>
                
                <!-- Desktop Navigation (Center) -->
                <nav class="hidden md:flex items-center justify-center flex-1 px-8">
                    <div class="flex items-center space-x-1">
                        <a href="index.html" class="nav-link px-3 py-2 rounded-md text-gray-700 hover:text-blue-600" style="color: #374151 !important; opacity: 1 !important;">Home</a>
                        
                        <!-- Services Dropdown -->
                        <div class="relative group">
                            <button class="nav-link px-3 py-2 rounded-md flex items-center text-gray-700 hover:text-blue-600" style="color: #374151 !important; opacity: 1 !important; background: none; border: none;" aria-label="Services menu">
                                Services 
                                <svg class="ml-2 w-3 h-3 inline-block" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                                </svg>
                            </button>
                            <div class="dropdown-menu absolute hidden group-hover:block bg-white shadow-lg rounded-md py-2 w-48 z-50">
                                <a href="https://billlayne.github.io/Auto-Insurance-Center/" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Auto Insurance</a>
                                <a href="https://billlayne.github.io/NC-Home-Insurance.github.io/" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Home Insurance</a>
                                <a href="https://billlayne.github.io/NC-Insurance-Claims-Center.github.io/" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Claim Center</a>
                                <a href="https://billlayne.github.io/Resources/" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Resources</a>
                            </div>
                        </div>

                        <!-- Areas We Serve Dropdown -->
                        <div class="relative group">
                            <button class="nav-link px-3 py-2 rounded-md flex items-center text-gray-700 hover:text-blue-600" style="color: #374151 !important; opacity: 1 !important; background: none; border: none;" aria-label="Areas menu">
                                Areas We Serve 
                                <svg class="ml-2 w-3 h-3 inline-block" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                                </svg>
                            </button>
                            <div class="dropdown-menu absolute hidden group-hover:block bg-white shadow-lg rounded-md py-2 w-48 z-50">
                                <a href="/areas-we-serve.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">All Areas</a>
                                <a href="/insurance-elkin-nc.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Elkin, NC</a>
                                <a href="/insurance-mount-airy-nc.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Mount Airy, NC</a>
                            </div>
                        </div>

                        <a href="/blog.html" class="nav-link px-3 py-2 rounded-md text-gray-700 hover:text-blue-600" style="color: #374151 !important; opacity: 1 !important;">Blog</a>
                        <a href="/contact-us.html" class="nav-link px-3 py-2 rounded-md text-gray-700 hover:text-blue-600" style="color: #374151 !important; opacity: 1 !important;">Contact</a>
                    </div>
                </nav>
                
                <!-- Phone & CTA (Right) -->
                <div class="hidden md:flex items-center space-x-4 flex-shrink-0">
                    <a href="tel:3368351993" class="text-gray-700 font-semibold hover:text-blue-600 transition-colors" style="color: #374151 !important; opacity: 1 !important;">(336) 835-1993</a>
                    <a href="/auto-quote.html" class="bg-blue-600 text-white px-5 py-2 rounded-full font-semibold hover:bg-blue-700 transition-all" style="background-color: #2563eb !important; color: #ffffff !important; opacity: 1 !important;">Get a Quote</a>
                </div>
                
                <!-- Mobile Menu Toggle -->
                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Open navigation menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
        
    </header>

    <!-- Mobile Menu - Unified Structure -->
    <div class="navbar-menu" id="mobileMenu">
        <div class="navbar-menu-overlay"></div>
        <div class="navbar-menu-content">
            <button class="navbar-menu-close" id="mobileMenuClose" aria-label="Close menu">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
            
            <nav class="navbar-menu-nav">
                <a href="/" class="nav-link">Home</a>
                <a href="/areas-we-serve.html" class="nav-link">Services</a>
                <a href="https://billlayne.github.io/Auto-Insurance-Center/" class="nav-link">Auto Insurance</a>
                <a href="https://billlayne.github.io/NC-Home-Insurance.github.io/" class="nav-link">Home Insurance</a>
                <a href="https://billlayne.github.io/NC-Insurance-Claims-Center.github.io/" class="nav-link">Claims</a>
                <a href="https://billlayne.github.io/Resources/" class="nav-link">Resources</a>
                <a href="/blog.html" class="nav-link">Blog</a>
                <a href="/contact-us.html" class="nav-link">Contact</a>
            </nav>
            
            <div class="navbar-menu-cta">
                <a href="tel:3368351993" class="phone-cta">
                    <svg class="phone-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                    </svg>
                    <span>Call (336) 835-1993</span>
                </a>
                <a href="/auto-quote.html" class="btn btn--primary btn--full-width">Get a Quote</a>
            </div>
        </div>
    </div>

    <main id="main-content">
        <!-- Hero Section -->
        <section class="relative bg-gray-800 text-white pt-32 pb-20 md:pt-40 md:pb-32">
            <div class="absolute inset-0">
                <img src="https://github.com/BillLayne/bill-layne-images/blob/main/logos/Car%20Insurance.png?raw=true" 
                     alt="Auto insurance protection for Elkin, Mount Airy, and Surry County NC residents" 
                     width="1920" 
                     height="1080" 
                     class="w-full h-full object-cover opacity-30" 
                     fetchpriority="high"
                     decoding="async">
            </div>
            <div class="relative container mx-auto px-4 text-center">
                <h1 class="text-4xl md:text-6xl font-extrabold leading-tight mb-4 animate-fadeInUp">Protecting Our NC Neighbors</h1>
                <p class="text-lg md:text-xl text-gray-200 mb-8 max-w-3xl mx-auto animate-fadeInUp" style="animation-delay: 0.2s;">
                    Personalized auto, home, and business insurance serving Elkin, Mount Airy, Jonesville, and all of Northwest North Carolina. Your local, independent agency that puts you first.
                </p>
                <a href="auto-quote.html" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-full shadow-xl transition-transform transform hover:scale-105 inline-block text-lg animate-fadeInUp" style="animation-delay: 0.4s; padding: 1rem 2.5rem;">
                    Get Your Free Quote
                </a>
                
                <!-- NEW: Trust Banner -->
                <div class="mt-16 md:mt-24 animate-fadeInUp" style="animation-delay: 0.6s;">
                    <div class="max-w-4xl mx-auto bg-white/10 backdrop-blur-md rounded-full p-4 border border-white/20">
                        <div class="flex flex-wrap justify-center items-center gap-4 md:gap-8">
                            <div class="text-center">
                                <p class="text-2xl md:text-3xl font-bold">15+</p>
                                <p class="text-xs md:text-sm text-gray-300 uppercase tracking-wider">Years Serving NC</p>
                            </div>
                            <div class="w-px h-8 bg-white/20 hidden md:block"></div>
                            <div class="text-center">
                                <p class="text-2xl md:text-3xl font-bold">1,000+</p>
                                <p class="text-xs md:text-sm text-gray-300 uppercase tracking-wider">Happy Customers</p>
                            </div>
                            <div class="w-px h-8 bg-white/20 hidden md:block"></div>
                            <div class="text-center">
                                <p class="text-2xl md:text-3xl font-bold flex items-center justify-center">4.8 <i class="fas fa-star text-yellow-400 ml-1 text-xl"></i></p>
                                <p class="text-xs md:text-sm text-gray-300 uppercase tracking-wider">Google Reviews</p>
                            </div>
                            <div class="w-px h-8 bg-white/20 hidden md:block"></div>
                            <div class="text-center">
                                <p class="text-2xl md:text-3xl font-bold">9</p>
                                <p class="text-xs md:text-sm text-gray-300 uppercase tracking-wider">Top Carriers</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Insurance Partners Section -->
        <section class="bg-white py-12">
            <div class="container mx-auto px-6">
                <h3 class="text-center text-gray-700 text-sm font-bold uppercase tracking-wider mb-8">Proudly Partnered With America's Top Insurers</h3>
                <div class="flex flex-wrap justify-center items-center gap-4 sm:gap-6">
                    <!-- Carrier Logos with Mobile-Optimized Container Boxes -->
                    <a href="/carriers/nationwide-north-carolina.html" class="group">
                        <div class="w-[140px] h-[80px] bg-white rounded-lg shadow-sm flex items-center justify-center p-3 group-hover:shadow-md transition-shadow border border-gray-200">
                            <img src="https://github.com/BillLayne/bill-layne-images/blob/main/logos/Nationwide%20Logo%20(1).png?raw=true" 
                                 alt="Nationwide Insurance Partner" 
                                 width="150" height="60" 
                                 class="max-h-full max-w-full object-contain" 
                                 loading="lazy" decoding="async">
                        </div>
                    </a>
                    <a href="progressive-nc-landing.html" class="group">
                        <div class="w-[140px] h-[80px] bg-white rounded-lg shadow-sm flex items-center justify-center p-3 group-hover:shadow-md transition-shadow border border-gray-200 relative">
                            <img src="https://github.com/BillLayne/bill-layne-images/blob/main/logos/Progressive%20Logo.png?raw=true" 
                                 alt="Progressive Insurance Partner" 
                                 width="150" height="60" 
                                 class="max-h-full max-w-full object-contain filter grayscale group-hover:grayscale-0 transition-all duration-300" 
                                 loading="lazy" decoding="async">
                            <p class="absolute bottom-1 text-xs text-blue-600 text-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">Learn More </p>
                        </div>
                    </a>
                    <a href="/carriers/national_general_nc_landing.html" class="group">
                        <div class="w-[140px] h-[80px] bg-white rounded-lg shadow-sm flex items-center justify-center p-3 group-hover:shadow-md transition-shadow border border-gray-200">
                            <img src="https://github.com/BillLayne/bill-layne-images/blob/main/logos/National%20General%20Logo.png?raw=true" 
                                 alt="National General Insurance Partner" 
                                 width="150" height="60" 
                                 class="max-h-full max-w-full object-contain" 
                                 loading="lazy" decoding="async">
                        </div>
                    </a>
                    <a href="travelers-nc-landing.html" class="group">
                        <div class="w-[140px] h-[80px] bg-white rounded-lg shadow-sm flex items-center justify-center p-3 group-hover:shadow-md transition-shadow border border-gray-200 relative">
                            <img src="https://github.com/BillLayne/bill-layne-images/blob/main/logos/Travelers%20Logo.png?raw=true" 
                                 alt="Travelers Insurance Partner" 
                                 width="150" height="60" 
                                 class="max-h-full max-w-full object-contain filter grayscale group-hover:grayscale-0 transition-all duration-300" 
                                 loading="lazy" decoding="async">
                            <p class="absolute bottom-1 text-xs text-blue-600 text-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">Learn More </p>
                        </div>
                    </a>
                    <a href="/alamance-farmers.html" class="group">
                        <div class="w-[140px] h-[80px] bg-white rounded-lg shadow-sm flex items-center justify-center p-3 group-hover:shadow-md transition-shadow border border-gray-200">
                            <img src="https://imgur.com/CNFRCZc.png" alt="Alamance Farmers" width="150" height="60" class="max-h-full max-w-full object-contain" loading="lazy">
                        </div>
                    </a>
                    <a href="/nc-grange.html" class="group">
                        <div class="w-[140px] h-[80px] bg-white rounded-lg shadow-sm flex items-center justify-center p-3 group-hover:shadow-md transition-shadow border border-gray-200">
                            <img src="https://github.com/BillLayne/bill-layne-images/blob/main/logos/NC%20Grange%20Logo.png?raw=true" 
                                 alt="NC Grange Insurance Partner" 
                                 width="150" height="60" 
                                 class="max-h-full max-w-full object-contain" 
                                 loading="lazy" decoding="async">
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="py-20">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-900">Insurance Built For You</h2>
                    <p class="text-gray-600 mt-4 max-w-2xl mx-auto">We offer a complete range of insurance products to protect what matters most in Elkin, NC and surrounding areas.</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Service Cards -->
                    <div class="bg-white rounded-xl shadow-lg p-8 text-center transform hover:-translate-y-2 transition-transform duration-300 border border-gray-100">
                        <i class="fas fa-car-side text-blue-600 text-5xl mb-6"></i>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">Auto Insurance</h3>
                        <p class="text-gray-600 mb-4">From daily commuters to classic cars, we'll find the policy that fits your ride and your budget.</p>
                    </div>
                    <div class="bg-white rounded-xl shadow-lg p-8 text-center transform hover:-translate-y-2 transition-transform duration-300 border border-gray-100">
                        <i class="fas fa-home-lg-alt text-blue-600 text-5xl mb-6"></i>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">Home Insurance</h3>
                        <p class="text-gray-600">Protect your biggest investment and everything in it with comprehensive homeowners coverage.</p>
                    </div>
                    <div class="bg-white rounded-xl shadow-lg p-8 text-center transform hover:-translate-y-2 transition-transform duration-300 border border-gray-100">
                        <i class="fas fa-briefcase text-blue-600 text-5xl mb-6"></i>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">Business Insurance</h3>
                        <p class="text-gray-600">Customized solutions to protect your business, employees, and customers from the unexpected.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Why Choose Us Section -->
        <section class="py-20 bg-gray-100">
            <div class="container mx-auto px-4">
                <div class="flex flex-col md:flex-row items-center gap-12">
                    <div class="md:w-1/2">
                        <img src="https://github.com/BillLayne/bill-layne-images/blob/main/logos/DownTown%20Elkin.png?raw=true" 
                             alt="Downtown Elkin NC - Local insurance agency serving our community" 
                             width="600" height="400" 
                             class="rounded-lg shadow-xl w-full h-auto"
                             loading="lazy" decoding="async">
                    </div>
                    <div class="md:w-1/2 text-center md:text-left">
                        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Your Neighbor, Your Agent</h2>
                        <p class="text-gray-600 mb-6">We're not just agents; we're your neighbors. We are committed to the Elkin community and providing personalized service you can't get from a 1-800 number.</p>
                        <ul class="space-y-4 text-left inline-block">
                            <li class="flex items-start"><i class="fas fa-check-circle text-blue-600 mt-1 mr-3"></i><span><span class="font-bold">Local Expertise:</span> Deeply rooted in and knowledgeable about NC.</span></li>
                            <li class="flex items-start"><i class="fas fa-check-circle text-blue-600 mt-1 mr-3"></i><span><span class="font-bold">Independent Agency:</span> We compare quotes to find you the best value.</span></li>
                            <li class="flex items-start"><i class="fas fa-check-circle text-blue-600 mt-1 mr-3"></i><span><span class="font-bold">Dedicated Support:</span> We're here to help every step of the way.</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Interactive Tools Section -->
    <section id="tools" class="py-20 bg-white" role="region" aria-labelledby="tools-heading">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 id="tools-heading" class="text-3xl md:text-4xl font-bold text-gray-800">Interactive Insurance Tools</h2>
                <p class="text-gray-600 mt-2 max-w-2xl mx-auto">Not sure what you need? Use our free tools to get a better idea of your coverage needs.</p>
            </div>
            
            <!-- Enhanced Tab Navigation -->
            <div class="flex justify-center border-b mb-8" role="tablist" aria-label="Insurance evaluation tools">
                <button 
                    data-tab="auto-evaluator" 
                    class="tab-button tab-active py-2 px-6 font-semibold text-gray-600 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
                    role="tab"
                    aria-selected="true"
                    aria-controls="auto-evaluator"
                    id="tab-auto">
                    Auto Evaluator
                </button>
                <button 
                    data-tab="home-evaluator" 
                    class="tab-button py-2 px-6 font-semibold text-gray-600 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
                    role="tab"
                    aria-selected="false"
                    aria-controls="home-evaluator"
                    id="tab-home">
                    Home Evaluator
                </button>
                <button 
                    data-tab="insurance-quiz" 
                    class="tab-button py-2 px-6 font-semibold text-gray-600 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
                    role="tab"
                    aria-selected="false"
                    aria-controls="insurance-quiz"
                    id="tab-quiz">
                    Insurance Quiz
                </button>
            </div>

            <!-- Tab Content -->
            <div class="max-w-4xl mx-auto">
                <!-- Auto Coverage Evaluator -->
                <div id="auto-evaluator" class="tab-content tab-content-active">
                    <div class="bg-gray-100 p-8 rounded-lg">
                        <h3 class="text-2xl font-bold text-center mb-6">Auto Coverage Checkup</h3>
                        <div class="tool-content-wrapper">
                        <form id="auto-coverage-form" class="space-y-4" role="form" aria-label="Auto coverage evaluation form">
                            <div class="form-group">
                                <label for="vehicle-value" class="block font-medium text-gray-700 mb-2">
                                    Estimated Vehicle Value ($)
                                    <span class="text-red-500" aria-label="required">*</span>
                                </label>
                                <input 
                                    type="number" 
                                    id="vehicle-value" 
                                    name="vehicle-value"
                                    class="w-full mt-1 p-3 border-2 border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" 
                                    placeholder="e.g., 25000"
                                    aria-describedby="vehicle-value-help"
                                    aria-required="true"
                                    min="1000"
                                    max="500000"
                                    step="1000"
                                    required
                                >
                                <div id="vehicle-value-help" class="mt-1 text-sm text-gray-600">
                                    Enter the estimated current market value of your vehicle
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="daily-commute" class="block font-medium text-gray-700 mb-2">
                                    Daily Commute (miles, one-way)
                                    <span class="text-red-500" aria-label="required">*</span>
                                </label>
                                <input 
                                    type="number" 
                                    id="daily-commute" 
                                    name="daily-commute"
                                    class="w-full mt-1 p-3 border-2 border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" 
                                    placeholder="e.g., 15"
                                    aria-describedby="commute-help"
                                    aria-required="true"
                                    min="0"
                                    max="200"
                                    required
                                >
                                <div id="commute-help" class="mt-1 text-sm text-gray-600">
                                    Enter your typical one-way distance to work or daily activities
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="has-loan" class="block font-medium text-gray-700 mb-2">
                                    Do you have a loan or lease on this vehicle?
                                    <span class="text-red-500" aria-label="required">*</span>
                                </label>
                                <select 
                                    id="has-loan" 
                                    name="has-loan"
                                    class="w-full mt-1 p-3 border-2 border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
                                    aria-required="true"
                                    required
                                >
                                    <option value="">Please select</option>
                                    <option value="yes">Yes</option>
                                    <option value="no">No</option>
                                </select>
                            </div>
                            <button 
                                type="submit" 
                                class="w-full bg-blue-600 text-white py-3 px-6 rounded-md font-bold hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"
                                aria-label="Submit form to evaluate auto coverage"
                            >
                                Evaluate My Auto Coverage
                            </button>
                        </form>
                        <div id="auto-results" class="mt-6 p-4 bg-white rounded-md shadow hidden" role="region" aria-live="polite" aria-label="Auto coverage evaluation results"></div>
                        </div>
                    </div>
                </div>

                <!-- Home Coverage Evaluator -->
                <div id="home-evaluator" class="tab-content">
                    <div class="bg-gray-100 p-8 rounded-lg">
                        <h3 class="text-2xl font-bold text-center mb-6">Home Insurance Evaluator</h3>
                        <div class="tool-content-wrapper">
                        <form id="home-coverage-form" class="space-y-4">
                            <div>
                                <label for="home-value" class="block font-medium text-gray-700">Estimated Home Rebuild Cost ($)</label>
                                <input type="number" id="home-value" class="w-full mt-1 p-2 border rounded-md" placeholder="e.g., 300000">
                            </div>
                            <div>
                                <label for="personal-property" class="block font-medium text-gray-700">Value of Personal Belongings ($)</label>
                                <input type="number" id="personal-property" class="w-full mt-1 p-2 border rounded-md" placeholder="e.g., 75000">
                            </div>
                             <div>
                                <label for="has-pool" class="block font-medium text-gray-700">Do you have a swimming pool or trampoline?</label>
                                <select id="has-pool" class="w-full mt-1 p-2 border rounded-md">
                                    <option value="yes">Yes</option>
                                    <option value="no">No</option>
                                </select>
                            </div>
                            <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-md font-bold hover:bg-blue-700" aria-label="Submit form to evaluate home coverage">Evaluate My Home Coverage</button>
                        </form>
                        <div id="home-results" class="mt-6 p-4 bg-white rounded-md shadow hidden" role="region" aria-live="polite" aria-label="Home coverage evaluation results"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Insurance Quiz -->
                <div id="insurance-quiz" class="tab-content">
                    <div class="bg-gray-100 p-8 rounded-lg">
                        <div class="tool-content-wrapper">
                        <div id="quiz-container">
                            <h3 class="text-2xl font-bold text-center mb-6">What's Your Insurance IQ?</h3>
                            <div id="quiz-question" class="text-lg font-semibold mb-4"></div>
                            <div id="quiz-options" class="space-y-3"></div>
                        </div>
                        <div id="quiz-results-container" class="hidden text-center" role="region" aria-live="polite" aria-label="Quiz results">
                            <h3 class="text-2xl font-bold mb-4">Quiz Complete!</h3>
                            <p id="quiz-score" class="text-lg mb-2"></p>
                            <p id="quiz-feedback" class="text-gray-700 mb-4"></p>
                            <button id="quiz-restart" class="bg-blue-600 text-white py-2 px-4 rounded-md font-bold hover:bg-blue-700" aria-label="Restart insurance quiz">Try Again</button>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="bg-white py-20">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-800">What Our Clients Say</h2>
                <p class="text-gray-600 mt-2">Real stories from our satisfied customers.</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Testimonial Cards -->
                <div class="bg-gray-50 rounded-lg shadow-lg p-8">
                    <div class="text-yellow-400 mb-4">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                    </div>
                    <p class="text-gray-600 mb-4">"Bill and his team saved me hundreds on my car insurance and made the whole process incredibly easy. Highly recommend!"</p>
                    <p class="font-bold text-gray-800">- Sarah J.</p>
                </div>
                <div class="bg-gray-50 rounded-lg shadow-lg p-8">
                    <div class="text-yellow-400 mb-4">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                    </div>
                    <p class="text-gray-600 mb-4">"When we had to file a claim on our home, the support we received was outstanding. They handled everything and were so compassionate."</p>
                    <p class="font-bold text-gray-800">- The Miller Family</p>
                </div>
                <div class="bg-gray-50 rounded-lg shadow-lg p-8">
                    <div class="text-yellow-400 mb-4">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                    </div>
                    <p class="text-gray-600 mb-4">"As a small business owner, I need an agent who understands my risks. Bill Layne Insurance has been a fantastic partner for years."</p>
                    <p class="font-bold text-gray-800">- David Chen</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Instant Answers Section -->
    <section class="py-20 bg-gray-100">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Your Insurance Questions, Answered</h2>
                <p class="text-gray-600 mt-2 max-w-2xl mx-auto">Common questions from your neighbors in Elkin, Jonesville, and the surrounding Yadkin Valley.</p>
            </div>
            <div class="max-w-4xl mx-auto">
                <div class="space-y-4">
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="font-bold text-lg mb-2">How much car insurance is required in North Carolina?</h3>
                        <p class="text-gray-600">North Carolina requires all drivers to have liability coverage of at least $30,000 for bodily injury for one person, $60,000 for bodily injury for two or more people, and $25,000 for property damage.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="font-bold text-lg mb-2">What is the average cost of homeowners insurance in Surry County?</h3>
                        <p class="text-gray-600">The average cost of homeowners insurance in Surry County can vary based on factors like your home's age, construction, and value. As an independent agency, we can help you find the most competitive rates.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="font-bold text-lg mb-2">Do I need flood insurance in the Yadkin Valley?</h3>
                        <p class="text-gray-600">While not always required, flood insurance is highly recommended for many homeowners in the Yadkin Valley, as standard home insurance policies do not cover flood damage. We can help you assess your risk.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Serving the Yadkin Valley Section -->
    <section class="py-12">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-2xl font-bold text-gray-800">Serving the Yadkin Valley and Beyond</h2>
            <p class="text-gray-600 mt-2">We are proud to serve our neighbors in Elkin, Jonesville, Boonville, Dobson, and all of Surry, Yadkin, and Wilkes counties.</p>
        </div>
    </section>

        

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-10">
        <div class="container mx-auto px-6 text-center" itemscope itemtype="http://schema.org/InsuranceAgency">
            <p>&copy; 2024 <span itemprop="name">Bill Layne Insurance</span>. All Rights Reserved.</p>
            <p class="text-sm text-gray-400 mt-2" itemprop="address" itemscope itemtype="http://schema.org/PostalAddress"><span itemprop="streetAddress">1283 N Bridge St</span>, <span itemprop="addressLocality">Elkin</span> <span itemprop="addressRegion">NC</span> <span itemprop="postalCode">28621</span> | <a href="tel:+13368351993" itemprop="telephone">(336) 835-1993</a></p>
        </div>
    </footer>

    <!-- Mobile Sticky Call Button -->
    <a href="tel:3368351993" class="fixed bottom-4 right-4 z-50 bg-green-500 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center hover:bg-green-600 transition-all md:hidden" aria-label="Call Now">
        <i class="fas fa-phone-alt text-2xl"></i>
    </a>

    <!-- EmailJS SDK (deferred) -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js" defer></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            console.log('Page loaded, initializing header...');
            
            // Get header element
            const mainHeader = document.getElementById('main-header');
            
            // Fix: Set initial header state IMMEDIATELY
            if (mainHeader) {
                // Force initial styles
                mainHeader.style.backgroundColor = 'rgba(255, 255, 255, 0.98)';
                mainHeader.style.backdropFilter = 'blur(10px)';
                mainHeader.style.webkitBackdropFilter = 'blur(10px)';
                mainHeader.style.boxShadow = '0 2px 4px rgba(0, 0, 0, 0.1)';
                
                // Header scroll effect
                function handleScroll() {
                    if (window.scrollY > 50) {
                        mainHeader.classList.add('header-scrolled');
                        mainHeader.classList.remove('header-initial');
                        mainHeader.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.1)';
                    } else {
                        mainHeader.classList.add('header-initial');
                        mainHeader.classList.remove('header-scrolled');
                        mainHeader.style.boxShadow = '0 2px 4px rgba(0, 0, 0, 0.1)';
                    }
                }
                
                // Check initial scroll position
                handleScroll();
                
                // Add scroll listener
                window.addEventListener('scroll', handleScroll);
            }
            
            // ==================================================================
            // UNIFIED MOBILE MENU IMPLEMENTATION
            // ==================================================================
            (function() {
                const mobileMenuToggle = document.getElementById('mobileMenuToggle');
                const mobileMenu = document.querySelector('.navbar-menu');
                const mobileMenuClose = document.getElementById('mobileMenuClose');
                const body = document.body;
                
                if (mobileMenuToggle && mobileMenu) {
                // Toggle menu functionality
                mobileMenuToggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // Toggle active classes
                    mobileMenu.classList.toggle('active');
                    mobileMenuToggle.classList.toggle('active');
                    
                    // Prevent body scroll when menu is open
                    if (mobileMenu.classList.contains('active')) {
                        body.classList.add('menu-open');
                    } else {
                        body.classList.remove('menu-open');
                    }
                });
                
                // Close button
                if (mobileMenuClose) {
                    mobileMenuClose.addEventListener('click', function() {
                        mobileMenu.classList.remove('active');
                        mobileMenuToggle.classList.remove('active');
                        body.classList.remove('menu-open');
                    });
                }
                
                // Close menu when clicking overlay
                const menuOverlay = mobileMenu.querySelector('.navbar-menu-overlay');
                if (menuOverlay) {
                    menuOverlay.addEventListener('click', function() {
                        mobileMenu.classList.remove('active');
                        mobileMenuToggle.classList.remove('active');
                        body.classList.remove('menu-open');
                    });
                }
                
                // Close menu when clicking a nav link
                const navLinks = mobileMenu.querySelectorAll('.nav-link');
                navLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        mobileMenu.classList.remove('active');
                        mobileMenuToggle.classList.remove('active');
                        body.classList.remove('menu-open');
                    });
                });
                
                // Handle window resize
                window.addEventListener('resize', function() {
                    if (window.innerWidth > 900) {
                        mobileMenu.classList.remove('active');
                        mobileMenuToggle.classList.remove('active');
                        body.classList.remove('menu-open');
                    }
                });
            }
            })(); // End of mobile menu IIFE

            // --- Fix dropdown menu hover issues ---
            const dropdowns = document.querySelectorAll('.group');
            let dropdownTimeout;

            dropdowns.forEach(dropdown => {
                const menu = dropdown.querySelector('.dropdown-menu');
                
                // Show dropdown on mouse enter
                dropdown.addEventListener('mouseenter', () => {
                    clearTimeout(dropdownTimeout);
                    if (menu) {
                        menu.style.display = 'block';
                        setTimeout(() => {
                            menu.style.opacity = '1';
                            menu.style.visibility = 'visible';
                            menu.style.transform = 'translateY(0)';
                        }, 10);
                    }
                });
                
                // Hide dropdown on mouse leave with delay
                dropdown.addEventListener('mouseleave', () => {
                    dropdownTimeout = setTimeout(() => {
                        if (menu) {
                            menu.style.opacity = '0';
                            menu.style.visibility = 'hidden';
                            menu.style.transform = 'translateY(-10px)';
                            setTimeout(() => {
                                menu.style.display = 'none';
                            }, 200);
                        }
                    }, 100); // 100ms delay before hiding
                });
                
                // Keep dropdown open when hovering over it
                if (menu) {
                    menu.addEventListener('mouseenter', () => {
                        clearTimeout(dropdownTimeout);
                    });
                    
                    menu.addEventListener('mouseleave', () => {
                        dropdownTimeout = setTimeout(() => {
                            menu.style.opacity = '0';
                            menu.style.visibility = 'hidden';
                            menu.style.transform = 'translateY(-10px)';
                            setTimeout(() => {
                                menu.style.display = 'none';
                            }, 200);
                        }, 100);
                    });
                }
            });

            // --- Smooth Scrolling for Anchor Links ---
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        // Close mobile menu if open (using unified menu)
                        const unifiedMobileMenu = document.querySelector('.navbar-menu');
                        const unifiedMenuToggle = document.getElementById('mobileMenuToggle');
                        if (unifiedMobileMenu && unifiedMobileMenu.classList.contains('active')) {
                            unifiedMobileMenu.classList.remove('active');
                            if (unifiedMenuToggle) {
                                unifiedMenuToggle.classList.remove('active');
                            }
                            document.body.classList.remove('menu-open');
                        }
                        // Scroll smoothly
                        const mainHeader = document.getElementById('main-header');
                        const headerOffset = mainHeader ? mainHeader.offsetHeight : 80;
                        const elementPosition = targetElement.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                        window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
                    }
                });
            });

            // --- EmailJS Form Submission ---
            // Wait for EmailJS to load before initializing
            if (typeof emailjs !== 'undefined') {
                emailjs.init("Av6wKxL6HR-FIMtgm"); // Your Public Key
            } else {
                // If emailjs is not loaded yet, wait for it
                window.addEventListener('load', function() {
                    if (typeof emailjs !== 'undefined') {
                        emailjs.init("Av6wKxL6HR-FIMtgm");
                    }
                });
            }

            const contactForm = document.getElementById('email-form');
            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const submitBtn = this.querySelector('button[type="submit"]');
                const formMessage = document.getElementById('form-message');
                const originalText = submitBtn.textContent;

                submitBtn.disabled = true;
                submitBtn.innerHTML = `<i class="fas fa-spinner fa-spin mr-2"></i>Sending...`;
                formMessage.textContent = '';
                formMessage.className = 'mt-4 text-center';

                emailjs.sendForm('service_4flmw3k', 'template_tc5aalp', this)
                    .then(() => {
                        formMessage.textContent = ' Quote request sent successfully! We\'ll contact you soon.';
                        formMessage.className = 'mt-4 text-center text-green-600 font-semibold';
                        contactForm.reset();
                    }, (error) => {
                        console.error('EmailJS error:', error);
                        formMessage.textContent = ' Unable to send. Please call us at (336) 835-1993';
                        formMessage.className = 'mt-4 text-center text-red-600 font-semibold';
                    })
                    .finally(() => {
                        submitBtn.disabled = false;
                        submitBtn.innerHTML = originalText;
                    });
            });
            }

            // --- Tabbed Tools Functionality ---
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tabId = button.dataset.tab;

                    // Update button states
                    tabButtons.forEach(btn => {
                        btn.classList.remove('tab-active');
                        btn.setAttribute('aria-selected', 'false');
                    });
                    button.classList.add('tab-active');
                    button.setAttribute('aria-selected', 'true');

                    // Update content visibility
                    tabContents.forEach(content => {
                        content.classList.remove('tab-content-active');
                        content.style.display = 'none';
                    });
                    
                    const selectedContent = document.getElementById(tabId);
                    if (selectedContent) {
                        selectedContent.classList.add('tab-content-active');
                        selectedContent.style.display = 'block';
                        
                        // Initialize quiz when its tab is clicked
                        if (tabId === 'insurance-quiz') {
                            initializeQuiz();
                        }
                    }
                });
            });
            
            // Initialize first tab on page load
            const firstTab = document.querySelector('.tab-button.tab-active');
            if (firstTab) {
                const firstTabId = firstTab.dataset.tab;
                const firstContent = document.getElementById(firstTabId);
                if (firstContent) {
                    firstContent.style.display = 'block';
                }
            }

            // --- Auto Coverage Evaluator ---
            const autoForm = document.getElementById('auto-coverage-form');
            const autoResults = document.getElementById('auto-results');
            if(autoForm) {
                autoForm.addEventListener('submit', e => {
                e.preventDefault();
                const vehicleValue = parseInt(document.getElementById('vehicle-value').value) || 0;
                const dailyCommute = parseInt(document.getElementById('daily-commute').value) || 0;
                const hasLoan = document.getElementById('has-loan').value === 'yes';
                
                let recommendations = '<h4 class="font-bold text-lg mb-2">Our Recommendation:</h4>';
                recommendations += '<ul class="list-disc list-inside space-y-2">';
                
                if (hasLoan || vehicleValue > 10000) {
                    recommendations += '<li><strong>Comprehensive & Collision:</strong> Essential for your vehicle value.</li>';
                }
                
                if (dailyCommute > 20) {
                    recommendations += '<li><strong>Higher Liability:</strong> Long commute increases risk exposure.</li>';
                }
                
                recommendations += '<li><strong>Uninsured Motorist:</strong> Critical in North Carolina.</li>';
                recommendations += '</ul>';
                recommendations += '<p class="mt-4 text-sm">Call us at <a href="tel:3368351993" class="text-blue-600 font-bold">(336) 835-1993</a> for a personalized quote!</p>';

                autoResults.innerHTML = recommendations;
                    autoResults.classList.remove('hidden');
                    autoResults.style.display = 'block';
                });
            }

            // --- Home Coverage Evaluator ---
            const homeForm = document.getElementById('home-coverage-form');
            const homeResults = document.getElementById('home-results');
            if(homeForm) {
                homeForm.addEventListener('submit', e => {
                e.preventDefault();
                const homeValue = parseInt(document.getElementById('home-value').value) || 0;
                const personalProperty = parseInt(document.getElementById('personal-property').value) || 0;
                const hasPool = document.getElementById('has-pool').value === 'yes';

                let recommendations = '<h4 class="font-bold text-lg mb-2">Our Recommendation:</h4>';
                recommendations += '<ul class="list-disc list-inside space-y-2">';
                
                if (homeValue > 0) {
                    recommendations += `<li><strong>Dwelling Coverage:</strong> At least $${homeValue.toLocaleString()}</li>`;
                }
                
                if (hasPool) {
                    recommendations += '<li><strong>Liability:</strong> Minimum $500,000 due to pool/trampoline</li>';
                }
                
                recommendations += '<li><strong>Consider:</strong> Flood insurance (separate policy needed)</li>';
                recommendations += '</ul>';
                recommendations += '<p class="mt-4 text-sm">Call us at <a href="tel:3368351993" class="text-blue-600 font-bold">(336) 835-1993</a> for a personalized quote!</p>';

                homeResults.innerHTML = recommendations;
                    homeResults.classList.remove('hidden');
                    homeResults.style.display = 'block';
                });
            }

            // --- Insurance Quiz ---
            const quizData = [
            { question: "What does 'deductible' mean in an insurance policy?", options: ["The amount the insurance company deducts from your bill", "The amount you pay before insurance pays", "A discount on your premium"], answer: "The amount you pay before insurance pays" },
            { question: "Which coverage is typically required by law for drivers?", options: ["Collision", "Liability", "Comprehensive"], answer: "Liability" },
            { question: "What does a standard homeowners policy typically NOT cover?", options: ["Fire damage", "Theft", "Floods"], answer: "Floods" }
            ];
            let currentQuestionIndex = 0;
            let score = 0;
            let quizInitialized = false;

            const quizContainer = document.getElementById('quiz-container');
            const quizQuestionEl = document.getElementById('quiz-question');
            const quizOptionsEl = document.getElementById('quiz-options');
            const quizResultsContainer = document.getElementById('quiz-results-container');
            const quizScoreEl = document.getElementById('quiz-score');
            const quizFeedbackEl = document.getElementById('quiz-feedback');
            const quizRestartBtn = document.getElementById('quiz-restart');

            function initializeQuiz() {
            if (quizContainer) {
                currentQuestionIndex = 0;
                score = 0;
                quizInitialized = true;
                quizResultsContainer.classList.add('hidden');
                quizContainer.classList.remove('hidden');
                loadQuiz();
            }
        }

            function loadQuiz() {
            if(!quizContainer) return;
            if (currentQuestionIndex < quizData.length) {
                const currentQuestion = quizData[currentQuestionIndex];
                quizQuestionEl.textContent = currentQuestion.question;
                quizOptionsEl.innerHTML = '';
                currentQuestion.options.forEach(optionText => {
                    const button = document.createElement('button');
                    button.textContent = optionText;
                    button.className = 'w-full p-3 bg-white border rounded-md text-left hover:bg-blue-100';
                    button.onclick = () => selectAnswer(optionText);
                    quizOptionsEl.appendChild(button);
                });
            } else {
                showQuizResults();
            }
        }

            function selectAnswer(selectedOption) {
            if (selectedOption === quizData[currentQuestionIndex].answer) {
                score++;
            }
            currentQuestionIndex++;
            loadQuiz();
        }

            function showQuizResults() {
            quizContainer.classList.add('hidden');
            quizResultsContainer.classList.remove('hidden');
            quizScoreEl.textContent = `You scored ${score} out of ${quizData.length}!`;
            let feedback = "You're an insurance expert!";
            if (score < quizData.length) feedback = "Great job! Insurance can be tricky, but you're on your way.";
            if (score < 2) feedback = "A good start! We're here to help you understand all the details.";
            quizFeedbackEl.textContent = feedback;
            }
            
            if(quizRestartBtn) {
                quizRestartBtn.addEventListener('click', () => {
                    currentQuestionIndex = 0;
                    score = 0;
                    quizResultsContainer.classList.add('hidden');
                    quizContainer.classList.remove('hidden');
                    loadQuiz();
                });
            }
        });
    </script>
    
    <!-- Main JavaScript with Version -->
    <script src="app.js?v=2024.12.13.1" defer></script>
    
    <!-- Performance monitoring for Web Vitals -->
    <script>
    if ('PerformanceObserver' in window) {
        // Track Largest Contentful Paint
        new PerformanceObserver((entryList) => {
            for (const entry of entryList.getEntries()) {
                console.log('LCP:', entry.startTime);
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'LCP', {
                        'value': Math.round(entry.startTime),
                        'event_category': 'Web Vitals'
                    });
                }
            }
        }).observe({type: 'largest-contentful-paint', buffered: true});
    }
    </script>
</body>
</html>