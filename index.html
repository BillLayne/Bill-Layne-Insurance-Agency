<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto & Home Insurance in North Carolina | Bill Layne Insurance Agency in Elkin</title>
    <meta name="description" content="Local insurance agency in Elkin serving Surry County & all of North Carolina. Customers can save an average of $847/year. Compare 10+ carriers. Free quote: (336) 835-1993.">

    <!-- SEO Meta Tags -->
    <link rel="canonical" href="https://www.billlayneinsurance.com/">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Auto & Home Insurance in North Carolina | Bill Layne Insurance in Elkin">
    <meta property="og:description" content="Insurance agency in Elkin serving Surry County & all of NC. Compare quotes from 10+ top carriers. Customers can save an average of $847/year. Call (336) 835-1993.">
    <meta property="og:url" content="https://www.billlayneinsurance.com/">
    <meta property="og:image" content="https://www.billlayneinsurance.com/images/bill-layne-insurance-logo.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        /* Clean Modern Styles */
        :root {
            --primary-blue: #2563eb;
            --primary-blue-dark: #1d4ed8;
            --accent-green: #10b981;
            --accent-orange: #f97316;
            --text-gray: #1e293b;
            --text-gray-secondary: #64748b;
            --text-light: #94a3b8;
            --bg-light: #f9fafb;
            --white: #ffffff;
            --border-light: #e5e7eb;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Universal Mobile Centering */
        @media (max-width: 767px) {
            main {
                text-align: center;
            }
            
            main > section {
                margin-left: auto;
                margin-right: auto;
            }
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: var(--text-gray);
            background: var(--bg-light);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Urgency Banner */
        .urgency-banner {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            color: white;
            padding: 0.75rem 1rem;
            text-align: center;
            font-weight: 600;
            font-size: 0.875rem;
            position: relative;
            z-index: 51;
        }

        @media (min-width: 768px) {
            .urgency-banner {
                font-size: 1rem;
                padding: 1rem;
            }
        }

        .urgency-banner .blink {
            animation: blink 2s ease-in-out infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* Clean Header Design */
        .modern-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 50;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
        }

        .modern-header.scrolled {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 1.5rem;
            height: 5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-gray);
            text-decoration: none;
        }

        .logo span {
            color: var(--primary-blue);
        }

        .logo-subtitle {
            font-size: 0.75rem;
            color: #6b7280;
            display: none;
        }

        @media (min-width: 640px) {
            .logo-subtitle {
                display: block;
            }
        }

        /* Universal Menu */
        .navigation-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 350px;
            height: 100vh;
            background: white;
            box-shadow: -4px 0 20px rgba(0, 0, 0, 0.1);
            transition: right 0.3s ease;
            z-index: 1000;
            padding: 20px;
            overflow-y: auto;
        }

        .navigation-menu.active {
            right: 0;
        }

        @media (min-width: 768px) {
            .navigation-menu {
                max-width: 400px;
                padding: 30px;
            }
        }

        @media (min-width: 1024px) {
            .navigation-menu {
                max-width: 450px;
                padding: 40px;
            }
        }

        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 999;
        }

        .menu-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Hamburger Animation */
        .hamburger {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
            padding: 0.5rem;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hamburger span {
            display: block;
            width: 25px;
            height: 3px;
            background: var(--text-gray);
            margin: 3px 0;
            transition: 0.3s;
            border-radius: 2px;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(-45deg) translate(-5px, 6px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(45deg) translate(-5px, -6px);
        }

        /* Enhanced Hero Section - MOBILE OPTIMIZED */
        .hero-modern {
            padding-top: 0;
            padding-bottom: 1rem;
            background: linear-gradient(135deg, #ffffff 0%, #f0f9ff 100%);
            position: relative;
            overflow: hidden;
        }

        @media (min-width: 768px) {
            .hero-modern {
                padding-top: 0;
                padding-bottom: 1rem;
            }
        }
        
        /* Hero Image Banner - Hidden on mobile, shown on desktop */
        .hero-image-banner {
            display: none;
        }

        @media (min-width: 768px) {
            .hero-image-banner {
                display: block;
                margin-top: 5rem;
                position: relative;
                background: linear-gradient(to bottom, rgba(255,255,255,0.95), transparent);
            }

            .hero-image-banner img {
                max-height: 300px;
            }
        }

        .hero-modern::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: radial-gradient(circle at 1px 1px, rgb(226 232 240 / 30%) 1px, transparent 1px);
            background-size: 40px 40px;
            pointer-events: none;
        }

        .hero-content {
            max-width: 1280px;
            margin: 0 auto;
            padding: 1.5rem 1rem 0;
            text-align: center;
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        @media (min-width: 768px) {
            .hero-content {
                padding: 0.5rem 1.5rem 0;
            }
        }

        @media (min-width: 1024px) {
            .hero-content {
                padding: 0.5rem 1.5rem 0;
            }
        }

        /* Trust Badge Enhancement */
        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.6rem 1.2rem;
            margin-top: 0;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            font-weight: 700;
            color: #1e40af;
            background: #dbeafe;
            border-radius: 9999px;
            border: 2px solid #3b82f6;
        }

        @media (min-width: 768px) {
            .hero-badge {
                padding: 0.75rem 1.5rem;
                margin-bottom: 1.5rem;
                font-size: 1rem;
            }
        }

        @media (min-width: 1024px) {
            .hero-badge {
                padding: 0.875rem 1.75rem;
                font-size: 1.1rem;
            }
        }

        /* Savings Highlight - OPTIMIZED FOR MOBILE */
        .savings-highlight {
            display: inline-block;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-size: 1.1rem;
            font-weight: 900;
            margin: 0.75rem 0;
            box-shadow: 0 10px 20px -3px rgba(16, 185, 129, 0.4);
        }

        @media (min-width: 768px) {
            .savings-highlight {
                font-size: 1.1rem;
                padding: 0.6rem 1.25rem;
                margin: 0.5rem 0;
            }
        }

        @media (min-width: 1024px) {
            .savings-highlight {
                font-size: 1.2rem;
                padding: 0.7rem 1.5rem;
            }
        }

        .hero-title {
            display: none;
        }

        @media (min-width: 768px) {
            .hero-title {
                display: block;
                font-size: 4.5rem;
                font-weight: 900;
                line-height: 1.1;
                color: var(--text-gray);
                margin-bottom: 1rem;
                letter-spacing: -0.04em;
                text-align: center;
                width: 100%;
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            }

            .hero-title .text-gradient {
                display: block;
                font-size: 3.5rem;
                line-height: 1;
                margin-top: 0.25rem;
                font-weight: 900;
            }
        }

        @media (min-width: 768px) {
            .hero-title {
                font-size: 4.5rem;
                margin-top: 3rem;
                margin-bottom: 0.5rem;
                letter-spacing: -0.05em;
            }

            .hero-title .text-gradient {
                display: inline;
                font-size: 5rem;
                margin-top: 0;
            }
        }

        @media (min-width: 1024px) {
            .hero-title {
                font-size: 5rem;
                margin-top: 4rem;
            }

            .hero-title .text-gradient {
                font-size: 5.5rem;
            }
        }

        /* Mobile Hero Title - Above Header */
        .mobile-hero-title {
            display: block;
            background: linear-gradient(135deg, #ffffff 0%, #f0f9ff 100%);
            padding: 1rem 1rem 0.5rem;
            text-align: center;
            margin-top: 3rem;
        }

        @media (min-width: 768px) {
            .mobile-hero-title {
                display: none;
            }
        }

        .mobile-hero-text {
            font-size: 2rem;
            font-weight: 800;
            line-height: 1.1;
            color: var(--text-gray);
            margin: 0;
            letter-spacing: -0.02em;
        }

        .mobile-hero-gradient {
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: block;
            margin-top: 0.25rem;
        }

        .hero-description {
            font-size: 0.875rem;
            color: var(--text-gray-secondary);
            max-width: 100%;
            width: 100%;
            margin: 0 auto 0.75rem;
            line-height: 1.4;
            text-align: center;
            padding: 0 0.5rem;
        }

        @media (min-width: 768px) {
            .hero-description {
                font-size: 0.875rem;
                max-width: 48rem;
                margin: 0 auto 0.5rem;
                line-height: 1.4;
                padding: 0;
            }
        }

        /* Enhanced Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.75rem;
            font-size: 0.95rem;
            font-weight: 600;
            border-radius: 9999px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            cursor: pointer;
            border: none;
            gap: 0.5rem;
            text-align: center;
        }

        @media (min-width: 768px) {
            .btn {
                padding: 1rem 2.5rem;
                font-size: 1.125rem;
            }
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-blue) 0%, #1d4ed8 100%);
            color: white;
            box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.2), 0 2px 4px -2px rgba(37, 99, 235, 0.2);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 25px -5px rgba(37, 99, 235, 0.3), 0 10px 10px -5px rgba(37, 99, 235, 0.2);
        }

        .btn-secondary {
            background: white;
            color: var(--primary-blue);
            border: 2px solid var(--primary-blue);
        }

        .btn-secondary:hover {
            background: var(--primary-blue);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, var(--accent-green) 0%, #059669 100%);
            color: white;
            box-shadow: 0 4px 6px -1px rgba(16, 185, 129, 0.2);
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 25px -5px rgba(16, 185, 129, 0.3);
        }

        /* Social Proof Bar - MOBILE OPTIMIZED TO SINGLE ROW */
        .social-proof-bar {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.25rem;
            margin: 0.5rem auto;
            padding: 0.5rem 0.25rem;
            background: white;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            max-width: 98%;
            width: 98%;
        }

        @media (min-width: 768px) {
            .social-proof-bar {
                gap: 1rem;
                padding: 0.5rem;
                margin: 0.5rem auto;
                max-width: 56rem;
                width: auto;
            }
        }

        .proof-item {
            text-align: center;
        }

        .proof-number {
            font-size: 1.1rem;
            font-weight: 800;
            color: var(--primary-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.25rem;
            line-height: 1;
        }

        @media (min-width: 768px) {
            .proof-number {
                font-size: 1.25rem;
            }
        }

        .proof-label {
            font-size: 0.5rem;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 0.01em;
            margin-top: 0.15rem;
            line-height: 1;
            white-space: nowrap;
        }

        @media (min-width: 768px) {
            .proof-label {
                font-size: 0.6rem;
                letter-spacing: 0.05em;
                white-space: normal;
            }
        }

        /* Risk Reversal Badge */
        .guarantee-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: #fef3c7;
            border: 2px solid #fbbf24;
            border-radius: 9999px;
            font-weight: 600;
            font-size: 0.75rem;
            color: #92400e;
            margin: 0.5rem 0;
        }

        @media (min-width: 768px) {
            .guarantee-badge {
                display: none;
            }
        }

        /* Clean Service Cards */
        .services-section {
            padding: 5rem 0;
            background: var(--bg-light);
        }

        .section-header {
            text-align: center;
            max-width: 48rem;
            margin: 0 auto 3rem;
            padding: 0 1rem;
        }

        @media (min-width: 768px) {
            .section-header {
                padding: 0;
            }
        }

        .section-title {
            font-size: 2.25rem;
            font-weight: 800;
            color: var(--text-gray);
            margin-bottom: 1rem;
            text-align: center;
        }

        @media (min-width: 768px) {
            .section-title {
                font-size: 3rem;
            }
        }

        .section-description {
            font-size: 1.125rem;
            color: var(--text-gray-secondary);
            line-height: 1.75;
            text-align: center;
        }

        .service-grid {
            display: grid;
            gap: 2rem;
            max-width: 64rem;
            margin: 0 auto;
            padding: 0 1rem;
        }

        @media (min-width: 768px) {
            .service-grid {
                grid-template-columns: repeat(2, 1fr);
                padding: 0;
            }
        }

        .service-card {
            background: white;
            border-radius: 1.5rem;
            overflow: hidden;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .service-card:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .service-card-content {
            padding: 2rem;
        }

        .service-icon-wrapper {
            display: inline-flex;
            padding: 0.75rem;
            background: #dbeafe;
            border-radius: 1rem;
            margin-bottom: 1rem;
        }

        .service-icon {
            width: 1.75rem;
            height: 1.75rem;
            color: var(--primary-blue);
        }

        .service-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-gray);
            margin-bottom: 0.5rem;
        }

        .service-description {
            color: var(--text-gray-secondary);
            line-height: 1.625;
            margin-bottom: 1.5rem;
        }

        .service-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-blue);
            font-weight: 600;
            text-decoration: none;
            transition: gap 0.3s ease;
        }

        .service-link:hover {
            gap: 0.75rem;
        }

        /* Comparison Table */
        .comparison-section {
            padding: 5rem 0;
            background: white;
        }

        .comparison-table {
            max-width: 56rem;
            margin: 0 auto;
            background: white;
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 767px) {
            .comparison-table {
                margin: 0 1rem;
            }
        }

        .comparison-row {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            border-bottom: 1px solid #e5e7eb;
        }

        .comparison-row:last-child {
            border-bottom: none;
        }

        .comparison-cell {
            padding: 1.5rem 1rem;
            text-align: center;
        }

        .comparison-cell:first-child {
            text-align: left;
            font-weight: 600;
        }

        .comparison-header {
            background: var(--bg-light);
            font-weight: 700;
            font-size: 1.125rem;
        }

        /* Partner Logos */
        .partners-section {
            padding: 3rem 0;
            background: white;
        }

        .partners-container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        .partners-title {
            text-align: center;
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 2rem;
        }

        .partners-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 2rem 3rem;
        }

        .partner-logo {
            height: 2rem;
            width: auto;
            object-fit: contain;
            filter: grayscale(100%);
            opacity: 0.7;
            transition: all 0.3s ease;
        }

        @media (min-width: 768px) {
            .partner-logo {
                height: 2.5rem;
            }
        }

        .partner-logo:hover {
            filter: grayscale(0%);
            opacity: 1;
        }

        /* Carrier Cards for Mobile */
        .carrier-card {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            transition: all 0.3s ease;
            min-height: 80px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .carrier-card:hover {
            border-color: #3b82f6;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
            transform: translateY(-2px);
        }

        .carrier-card:active {
            transform: translateY(0);
        }

        .carrier-logo {
            height: 48px;
            width: auto;
            max-width: 100%;
            object-fit: contain;
        }

        /* Email Capture */
        .email-capture {
            max-width: 32rem;
            margin: 2rem auto;
            padding: 2rem;
            background: white;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .email-form {
            display: flex;
            gap: 0.5rem;
            flex-direction: column;
        }

        @media (min-width: 640px) {
            .email-form {
                flex-direction: row;
            }
        }

        .email-input {
            flex: 1;
            padding: 0.875rem 1.25rem;
            border: 2px solid #e5e7eb;
            border-radius: 9999px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .email-input:focus {
            outline: none;
            border-color: var(--primary-blue);
        }

        /* Clean Footer */
        .footer-modern {
            background: #111827;
            color: white;
            padding: 4rem 0 2rem;
        }

        .footer-content {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        .footer-grid {
            display: grid;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        @media (min-width: 768px) {
            .footer-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 4rem;
            }
        }

        .footer-section h3 {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .footer-link {
            display: block;
            color: #9ca3af;
            text-decoration: none;
            padding: 0.25rem 0;
            transition: color 0.3s ease;
        }

        .footer-link:hover {
            color: white;
        }

        /* Utility Classes */
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 1rem;
            text-align: center;
        }

        @media (min-width: 768px) {
            .container {
                padding: 0 1.5rem;
            }
        }

        .text-gradient {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--accent-green) 50%, #2563eb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradient-shift 3s ease infinite;
            background-size: 200% auto;
        }

        @keyframes gradient-shift {
            0%, 100% {
                background-position: 0% center;
            }
            50% {
                background-position: 100% center;
            }
        }

        /* Floating CTA */
        .floating-cta {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            z-index: 40;
            display: none;
        }

        @media (max-width: 768px) {
            .floating-cta {
                display: block;
            }
        }

        .floating-cta .btn {
            box-shadow: 0 10px 15px -3px rgba(37, 99, 235, 0.3), 0 4px 6px -4px rgba(37, 99, 235, 0.3);
        }

        /* Sticky Mobile Bottom Bar */
        .mobile-action-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 50;
            background: white;
            box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1), 0 -2px 4px -2px rgba(0, 0, 0, 0.1);
            display: none;
            border-top: 1px solid #e5e7eb;
        }

        @media (max-width: 768px) {
            .mobile-action-bar {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
            }
            
            /* Hide the old floating CTA when mobile bar is present */
            .floating-cta {
                display: none;
            }
        }

        .mobile-action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 0.5rem;
            text-decoration: none;
            color: #64748b;
            font-size: 0.75rem;
            font-weight: 600;
            transition: all 0.3s ease;
            border-right: 1px solid #e5e7eb;
        }

        .mobile-action-btn:last-child {
            border-right: none;
        }

        .mobile-action-btn:active {
            background: #f1f5f9;
        }

        .mobile-action-btn i {
            font-size: 1.25rem;
            margin-bottom: 0.25rem;
        }

        .mobile-action-btn.primary {
            color: #2563eb;
        }

        .mobile-action-btn.success {
            color: #10b981;
        }

        .mobile-action-btn.info {
            color: #8b5cf6;
        }

        .mobile-action-btn.warning {
            color: #f59e0b;
        }

        /* Add padding to body to prevent content being hidden by mobile bar */
        @media (max-width: 768px) {
            body {
                padding-bottom: 70px;
            }
        }

        /* Pulse animation for urgency */
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        .pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        /* ============================================ */
        /* AI INSURANCE ASSISTANT STYLES */
        /* ============================================ */

        /* Floating Chat Button - HIDDEN (Now in mobile bar and hero) */
        .ai-chat-btn {
            display: none !important;
        }

        /* Hero AI Button - Show on desktop only */
        #hero-ai-btn {
            display: none;
        }

        @media (min-width: 769px) {
            #hero-ai-btn {
                display: inline-flex !important;
            }
        }

        .ai-chat-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.5);
        }

        .ai-chat-btn:active {
            transform: translateY(0);
        }

        .ai-btn-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            z-index: 2;
        }

        .ai-btn-content i {
            font-size: 24px;
            margin-bottom: 2px;
        }

        .ai-btn-text {
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Pulsing Animation */
        .ai-btn-pulse {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: #8b5cf6;
            opacity: 0.6;
            animation: ai-pulse 2s infinite;
        }

        @keyframes ai-pulse {
            0% {
                transform: scale(1);
                opacity: 0.6;
            }
            50% {
                transform: scale(1.15);
                opacity: 0;
            }
            100% {
                transform: scale(1);
                opacity: 0;
            }
        }

        /* Chat Window */
        .ai-chat-window {
            position: fixed;
            bottom: 160px;
            right: 20px;
            width: 90%;
            max-width: 400px;
            height: 600px;
            max-height: 70vh;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
            z-index: 998;
            overflow: hidden;
            animation: ai-window-slide 0.3s ease;
        }

        @keyframes ai-window-slide {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (min-width: 769px) {
            .ai-chat-window {
                bottom: 90px;
            }
        }

        .ai-chat-window.active {
            display: flex;
        }

        /* Chat Header */
        .ai-chat-header {
            background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%);
            color: white;
            padding: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ai-header-content {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .ai-avatar {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .ai-chat-header h3 {
            margin: 0;
            font-size: 16px;
            font-weight: 700;
        }

        .ai-status {
            margin: 2px 0 0 0;
            font-size: 12px;
            opacity: 0.9;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .ai-status-dot {
            width: 8px;
            height: 8px;
            background: #10b981;
            border-radius: 50%;
            display: inline-block;
            animation: ai-status-blink 2s infinite;
        }

        @keyframes ai-status-blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .ai-close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 8px;
            opacity: 0.8;
            transition: opacity 0.3s;
        }

        .ai-close-btn:hover {
            opacity: 1;
        }

        /* Messages Area */
        .ai-chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            background: #f9fafb;
            scroll-behavior: smooth;
        }

        .ai-message {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
            animation: ai-message-slide 0.3s ease;
        }

        @keyframes ai-message-slide {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .ai-message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-size: 16px;
        }

        .ai-bot .ai-message-avatar {
            background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%);
            color: white;
        }

        .ai-user .ai-message-avatar {
            background: #e5e7eb;
            color: #6b7280;
        }

        .ai-message-content {
            background: white;
            padding: 12px 16px;
            border-radius: 12px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
            max-width: 80%;
            word-wrap: break-word;
        }

        .ai-user .ai-message-content {
            background: #8b5cf6;
            color: white;
            margin-left: auto;
        }

        .ai-user {
            flex-direction: row-reverse;
        }

        .ai-message-content p {
            margin: 0 0 8px 0;
            line-height: 1.5;
        }

        .ai-message-content p:last-child {
            margin-bottom: 0;
        }

        .ai-message-content strong {
            font-weight: 700;
        }

        .ai-message-content em {
            font-style: italic;
        }

        .ai-help-list {
            margin: 8px 0;
            padding-left: 0;
            list-style: none;
        }

        .ai-help-list li {
            padding: 4px 0;
            font-size: 14px;
            line-height: 1.4;
        }

        /* Typing Indicator */
        .ai-typing-indicator {
            display: flex;
            gap: 4px;
            padding: 12px 16px;
            justify-content: flex-start;
        }

        .ai-typing-indicator span {
            width: 8px;
            height: 8px;
            background: #8b5cf6;
            border-radius: 50%;
            animation: ai-typing 1.4s infinite;
        }

        .ai-typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .ai-typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes ai-typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.7;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        /* Input Area */
        .ai-chat-input-container {
            border-top: 1px solid #e5e7eb;
            background: white;
            padding: 12px;
        }

        .ai-chat-form {
            display: flex;
            gap: 8px;
        }

        .ai-chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 24px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.3s;
            font-family: inherit;
        }

        .ai-chat-input:focus {
            border-color: #8b5cf6;
        }

        .ai-send-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%);
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            flex-shrink: 0;
        }

        .ai-send-btn:hover {
            transform: scale(1.05);
        }

        .ai-send-btn:active {
            transform: scale(0.95);
        }

        .ai-disclaimer {
            margin: 8px 0 0 0;
            font-size: 11px;
            color: #6b7280;
            text-align: center;
            line-height: 1.4;
        }

        .ai-disclaimer a {
            color: #8b5cf6;
            text-decoration: none;
            font-weight: 600;
        }

        .ai-disclaimer a:hover {
            text-decoration: underline;
        }

        /* Quick Action Buttons */
        .ai-quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }

        .ai-quick-btn {
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            padding: 8px 14px;
            border-radius: 16px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s;
            color: #374151;
            font-weight: 500;
        }

        .ai-quick-btn:hover {
            background: #8b5cf6;
            color: white;
            border-color: #8b5cf6;
            transform: translateY(-1px);
        }

        /* Scrollbar Styling */
        .ai-chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .ai-chat-messages::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        .ai-chat-messages::-webkit-scrollbar-thumb {
            background: #8b5cf6;
            border-radius: 3px;
        }

        .ai-chat-messages::-webkit-scrollbar-thumb:hover {
            background: #7c3aed;
        }

        /* Error Message Styling */
        .ai-error-message {
            background: #fee2e2;
            color: #991b1b;
            padding: 12px;
            border-radius: 8px;
            margin: 8px 0;
            font-size: 13px;
            border-left: 3px solid #ef4444;
        }

        /* Mobile Responsiveness */
        @media (max-width: 480px) {
            .ai-chat-window {
                width: 95%;
                right: 2.5%;
                left: 2.5%;
                max-width: none;
            }

            .ai-chat-btn {
                width: 56px;
                height: 56px;
                right: 15px;
            }

            .ai-btn-content i {
                font-size: 22px;
            }
        }
    </style>
</head>

<body>
    <!-- Urgency Banner -->
    <div class="urgency-banner">
        <span class="blink">🔥</span> <strong>Start Saving Today:</strong> Customers can save an average of $847/year! <strong>Call now:</strong> (336) 835-1993
    </div>

    <!-- Menu Overlay -->
    <div id="menu-overlay" class="menu-overlay"></div>

    <!-- Mobile Hero Title - Above Header -->
    <div class="mobile-hero-title">
        <h1 class="mobile-hero-text">
            Better Insurance for<br>
            <span class="mobile-hero-gradient">North Carolina</span>
        </h1>
    </div>

    <!-- Modern Header -->
    <header id="main-header" class="modern-header">
        <div class="header-content">
            <div>
                <a href="/" class="logo">
                    Bill Layne <span>Insurance</span>
                </a>
                <p class="logo-subtitle">20+ Years Protecting NC Families</p>
            </div>

            <div class="flex items-center gap-2 md:gap-3">
                <a href="tel:3368351993" class="hidden md:block text-gray-700 font-semibold hover:text-blue-600 transition-colors text-sm lg:text-base">
                    <i class="fas fa-phone mr-1"></i>(336) 835-1993
                </a>
                <a href="get-quote.html" class="hidden md:block btn btn-primary text-sm lg:text-base px-4 lg:px-8 py-2 lg:py-3">Get Free Quote</a>

                <button id="menu-toggle-btn" class="hamburger p-2">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Universal Menu -->
    <div id="navigation-menu" class="navigation-menu">
        <div class="flex justify-between items-center mb-8">
            <h3 class="text-xl lg:text-2xl font-bold text-gray-800">Navigation</h3>
            <button id="close-menu" class="text-gray-500 hover:text-gray-700 p-2">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>
        <nav class="space-y-4">
            <a href="/index.html" class="block py-3 px-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 font-medium border-b border-gray-200 rounded transition-all">
                <i class="fas fa-home mr-3 w-5"></i>Home
            </a>
            <a href="/areas-we-serve.html" class="block py-3 px-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 font-medium border-b border-gray-200 rounded transition-all">
                <i class="fas fa-th-large mr-3 w-5"></i>Services
            </a>
            <a href="https://billlayne.github.io/Auto-Insurance-Center/" class="block py-3 px-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 font-medium border-b border-gray-200 rounded transition-all">
                <i class="fas fa-car mr-3 w-5"></i>Auto Insurance
            </a>
            <a href="https://billlayne.github.io/NC-Home-Insurance.github.io/" class="block py-3 px-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 font-medium border-b border-gray-200 rounded transition-all">
                <i class="fas fa-home mr-3 w-5"></i>Home Insurance
            </a>
            <a href="https://billlayne.github.io/NC-Insurance-Claims-Center.github.io/" class="block py-3 px-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 font-medium border-b border-gray-200 rounded transition-all">
                <i class="fas fa-file-alt mr-3 w-5"></i>Claims Center
            </a>
            <a href="https://billlayne.github.io/Resources/" class="block py-3 px-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 font-medium border-b border-gray-200 rounded transition-all">
                <i class="fas fa-book mr-3 w-5"></i>Resources
            </a>
            <a href="https://billlayne.github.io/ethereal-blog-landing/" target="_blank" rel="noopener noreferrer" class="block py-3 px-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 font-medium border-b border-gray-200 rounded transition-all">
                <i class="fas fa-blog mr-3 w-5"></i>Blog
            </a>
            <a href="/contact-us.html" class="block py-3 px-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 font-medium border-b border-gray-200 rounded transition-all">
                <i class="fas fa-envelope mr-3 w-5"></i>Contact Us
            </a>
        </nav>
        <div class="mt-8 space-y-4">
            <a href="tel:3368351993" class="block w-full text-center bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg font-semibold transition-colors">
                <i class="fas fa-phone mr-2"></i>Call (336) 835-1993
            </a>
            <a href="get-quote.html" class="block w-full text-center btn-primary">
                <i class="fas fa-calculator mr-2"></i>Get Free Quote
            </a>
        </div>

        <div class="hidden lg:block mt-8 pt-6 border-t border-gray-200">
            <div class="text-center">
                <p class="text-sm text-gray-600 mb-2">
                    <i class="fas fa-map-marker-alt mr-2"></i>
                    1283 N Bridge St, Elkin, NC 28621
                </p>
                <p class="text-sm text-gray-600">
                    <i class="fas fa-clock mr-2"></i>
                    Mon-Fri: 9AM-5PM
                </p>
            </div>
        </div>
    </div>

    <main>
        <!-- Enhanced Hero Section - MOBILE OPTIMIZED -->
        <section class="hero-modern">
            <!-- Hero Image Banner -->
            <div class="hero-image-banner" style="width: 100%; max-width: 100%; margin: 0; padding: 0; overflow: hidden; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
                <img 
                    src="https://raw.githubusercontent.com/BillLayne/bill-layne-images/0c16f8fcf039677accbdb0374dabe7a177b264c8/logos/friendly%20couple.359Z.png" 
                    alt="Trusted Insurance Agents - Bill Layne Insurance serving North Carolina families with auto and home insurance"
                    loading="lazy"
                    width="1920"
                    height="1080"
                    style="width: 100%; height: auto; display: block; object-fit: cover;"
                />
            </div>
            
            <div class="hero-content">
                <h1 class="hero-title">
                    Better Insurance for<br>
                    <span class="text-gradient">North Carolina</span>
                </h1>

                <!-- Insurance Type Icons -->
                <div class="insurance-types-icons" style="display: flex; justify-content: center; align-items: center; gap: 2rem; margin: 1.25rem 0; flex-wrap: wrap;">
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                        <div class="icon-circle" style="width: 70px; height: 70px; background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4); transition: transform 0.3s ease;">
                            <i class="fas fa-car" style="color: white; font-size: 2rem;"></i>
                        </div>
                        <span style="font-size: 0.95rem; font-weight: 700; color: #1e293b;">Auto</span>
                    </div>
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                        <div class="icon-circle" style="width: 70px; height: 70px; background: linear-gradient(135deg, #10b981 0%, #059669 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4); transition: transform 0.3s ease;">
                            <i class="fas fa-home" style="color: white; font-size: 2rem;"></i>
                        </div>
                        <span style="font-size: 0.95rem; font-weight: 700; color: #1e293b;">Home</span>
                    </div>
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                        <div class="icon-circle" style="width: 70px; height: 70px; background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4); transition: transform 0.3s ease;">
                            <i class="fas fa-briefcase" style="color: white; font-size: 2rem;"></i>
                        </div>
                        <span style="font-size: 0.95rem; font-weight: 700; color: #1e293b;">Business</span>
                    </div>
                </div>

                <style>
                    @media (min-width: 768px) {
                        .insurance-types-icons > div > .icon-circle {
                            width: 50px !important;
                            height: 50px !important;
                        }
                        .insurance-types-icons > div > .icon-circle i {
                            font-size: 1.25rem !important;
                        }
                        .insurance-types-icons > div > span {
                            font-size: 0.75rem !important;
                        }
                        .insurance-types-icons {
                            gap: 1.5rem !important;
                            margin: 0.5rem 0 !important;
                        }
                    }
                    @media (min-width: 1024px) {
                        .insurance-types-icons > div > .icon-circle {
                            width: 55px !important;
                            height: 55px !important;
                        }
                        .insurance-types-icons > div > .icon-circle i {
                            font-size: 1.5rem !important;
                        }
                        .insurance-types-icons > div > span {
                            font-size: 0.85rem !important;
                        }
                        .insurance-types-icons {
                            gap: 2rem !important;
                        }
                    }
                    .icon-circle:hover {
                        transform: scale(1.1);
                    }
                </style>

                <div class="savings-highlight pulse">
                    💰 Our Customers Can Save an Average of $847/Year
                </div>

                <!-- Social Proof Bar - SINGLE ROW ON MOBILE -->
                <div class="social-proof-bar">
                    <div class="proof-item">
                        <span class="proof-number">20+</span>
                        <span class="proof-label">Years in Business</span>
                    </div>
                    <div class="proof-item">
                        <span class="proof-number">1,500+</span>
                        <span class="proof-label">Families Protected</span>
                    </div>
                    <div class="proof-item">
                        <span class="proof-number">4.9★</span>
                        <span class="proof-label">Google Rating</span>
                    </div>
                    <div class="proof-item">
                        <span class="proof-number">10+</span>
                        <span class="proof-label">Top Carriers</span>
                    </div>
                </div>

                <p class="hero-description">
                    <strong>Proudly serving Elkin, Mount Airy, Jonesville, Wilkesboro & all of North Carolina.</strong> Stop overpaying! As an independent agency, we compare quotes from <strong>10+ top-rated carriers</strong> to find you the best coverage at the lowest price.
                </p>

                <!-- Primary CTAs -->
                <div class="flex flex-col sm:flex-row gap-2 justify-center items-center mb-2">
                    <a href="tel:3368351993" class="btn btn-success w-full sm:w-auto">
                        <i class="fas fa-phone-alt"></i>
                        Call: (336) 835-1993
                    </a>
                    <a href="get-quote.html" class="btn btn-primary w-full sm:w-auto">
                        <i class="fas fa-calculator"></i>
                        Get Free Quote
                    </a>
                    <button id="hero-ai-btn" class="btn w-full sm:w-auto" style="background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%); color: white; border: none; cursor: pointer; display: none;">
                        <i class="fas fa-robot"></i>
                        Ask AI Assistant
                    </button>
                </div>
                
                <!-- Text Option -->
                <div class="mb-3">
                    <p class="text-gray-600 text-xs">
                        Prefer to text? 
                        <a href="sms:3368506906" class="text-blue-600 font-semibold hover:underline">
                            <i class="fas fa-comment-dots"></i> Text us at (336) 850-6906
                        </a>
                    </p>
                </div>

                <!-- Guarantee Badge -->
                <div class="guarantee-badge">
                    <i class="fas fa-check-circle"></i>
                    <span>Free Quote • No Obligation • No Pressure</span>
                </div>

                <!-- Partners/Carriers Section -->
                <div class="mt-4" style="width: 100%; text-align: center; max-width: 900px; margin-left: auto; margin-right: auto;">
                    <h3 class="text-center text-xs md:text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3" style="margin-left: auto; margin-right: auto;">We Compare Quotes From These Top-Rated Carriers</h3>

                    <!-- Mobile: 2-column grid with cards -->
                    <div class="grid grid-cols-2 gap-4 md:hidden px-4">
                        <a href="/carriers/nationwide.html" class="carrier-card">
                            <img src="https://i.imgur.com/Mv5V7tV.png" alt="Nationwide Insurance" class="carrier-logo" loading="lazy">
                        </a>
                        <a href="/carriers/progressive.html" class="carrier-card">
                            <img src="https://i.imgur.com/K6kTnTa.png" alt="Progressive Insurance" class="carrier-logo" loading="lazy">
                        </a>
                        <a href="/carriers/travelers.html" class="carrier-card">
                            <img src="https://github.com/BillLayne/bill-layne-images/blob/main/logos/Travelers%20Logo.webp?raw=true" alt="Travelers Insurance" class="carrier-logo" loading="lazy">
                        </a>
                        <a href="/carriers/national-general.html" class="carrier-card">
                            <img src="https://i.imgur.com/HF8oPAF.png" alt="National General Insurance" class="carrier-logo" loading="lazy">
                        </a>
                        <a href="/carriers/alamance.html" class="carrier-card">
                            <img src="https://imgur.com/CNFRCZc.png" alt="Alamance Insurance" class="carrier-logo" loading="lazy">
                        </a>
                        <a href="/carriers/foremost.html" class="carrier-card">
                            <img src="https://i.imgur.com/rHIo4r5.jpg" alt="Foremost Insurance" class="carrier-logo" loading="lazy">
                        </a>
                    </div>

                    <!-- Desktop: Single row with flex -->
                    <div class="hidden md:flex flex-wrap justify-center items-center gap-8">
                        <a href="/carriers/nationwide.html" class="transition-transform hover:scale-110">
                            <img src="https://i.imgur.com/Mv5V7tV.png" alt="Nationwide Insurance" class="h-12 w-auto object-contain" loading="lazy">
                        </a>
                        <a href="/carriers/progressive.html" class="transition-transform hover:scale-110">
                            <img src="https://i.imgur.com/K6kTnTa.png" alt="Progressive Insurance" class="h-12 w-auto object-contain" loading="lazy">
                        </a>
                        <a href="/carriers/travelers.html" class="transition-transform hover:scale-110">
                            <img src="https://github.com/BillLayne/bill-layne-images/blob/main/logos/Travelers%20Logo.webp?raw=true" alt="Travelers Insurance" class="h-12 w-auto object-contain" loading="lazy">
                        </a>
                        <a href="/carriers/national-general.html" class="transition-transform hover:scale-110">
                            <img src="https://i.imgur.com/HF8oPAF.png" alt="National General Insurance" class="h-12 w-auto object-contain" loading="lazy">
                        </a>
                        <a href="/carriers/alamance.html" class="transition-transform hover:scale-110">
                            <img src="https://imgur.com/CNFRCZc.png" alt="Alamance Insurance" class="h-12 w-auto object-contain" loading="lazy">
                        </a>
                        <a href="/carriers/foremost.html" class="transition-transform hover:scale-110">
                            <img src="https://i.imgur.com/rHIo4r5.jpg" alt="Foremost Insurance" class="h-10 w-auto object-contain" loading="lazy">
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Why Independent Agent Section -->
        <section class="comparison-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Why Choose an Independent Agent?</h2>
                    <p class="section-description">See the difference for yourself</p>
                </div>

                <div class="comparison-table">
                    <div class="comparison-row comparison-header">
                        <div class="comparison-cell"></div>
                        <div class="comparison-cell" style="background: #dbeafe; color: #1e40af;">
                            <strong>Bill Layne<br>Insurance</strong>
                        </div>
                        <div class="comparison-cell">Captive<br>Agent</div>
                    </div>
                    <div class="comparison-row">
                        <div class="comparison-cell">Multiple Carrier Options</div>
                        <div class="comparison-cell"><i class="fas fa-check-circle text-green-600 text-2xl"></i></div>
                        <div class="comparison-cell"><i class="fas fa-times-circle text-red-600 text-2xl"></i></div>
                    </div>
                    <div class="comparison-row">
                        <div class="comparison-cell">Comparison Shopping</div>
                        <div class="comparison-cell"><i class="fas fa-check-circle text-green-600 text-2xl"></i></div>
                        <div class="comparison-cell"><i class="fas fa-times-circle text-red-600 text-2xl"></i></div>
                    </div>
                    <div class="comparison-row">
                        <div class="comparison-cell">Personalized Service</div>
                        <div class="comparison-cell"><i class="fas fa-check-circle text-green-600 text-2xl"></i></div>
                        <div class="comparison-cell"><i class="fas fa-check-circle text-green-600 text-2xl"></i></div>
                    </div>
                    <div class="comparison-row">
                        <div class="comparison-cell">Local Expert Knowledge</div>
                        <div class="comparison-cell"><i class="fas fa-check-circle text-green-600 text-2xl"></i></div>
                        <div class="comparison-cell"><span class="text-gray-400">Varies</span></div>
                    </div>
                    <div class="comparison-row">
                        <div class="comparison-cell">Claims Advocacy</div>
                        <div class="comparison-cell"><i class="fas fa-check-circle text-green-600 text-2xl"></i></div>
                        <div class="comparison-cell"><span class="text-gray-400">Limited</span></div>
                    </div>
                    <div class="comparison-row">
                        <div class="comparison-cell">Average Savings vs. Direct</div>
                        <div class="comparison-cell"><strong class="text-green-600">$847/yr</strong></div>
                        <div class="comparison-cell"><span class="text-gray-400">—</span></div>
                    </div>
                    <div class="comparison-row">
                        <div class="comparison-cell">Response Time</div>
                        <div class="comparison-cell"><strong class="text-blue-600">&lt;2 Hours</strong></div>
                        <div class="comparison-cell"><span class="text-gray-400">Varies</span></div>
                    </div>
                    <div class="comparison-row">
                        <div class="comparison-cell">Will Shop Competitors for You</div>
                        <div class="comparison-cell"><i class="fas fa-check-circle text-green-600 text-2xl"></i></div>
                        <div class="comparison-cell"><i class="fas fa-times-circle text-red-600 text-2xl"></i></div>
                    </div>
                    <div class="comparison-row">
                        <div class="comparison-cell">Switch at Renewal No-Cost</div>
                        <div class="comparison-cell"><i class="fas fa-check-circle text-green-600 text-2xl"></i></div>
                        <div class="comparison-cell"><span class="text-gray-400">Limited</span></div>
                    </div>
                </div>

                <div class="text-center mt-8">
                    <a href="get-quote.html" class="btn btn-primary">
                        Experience the Difference - Get Your Free Quote
                    </a>
                </div>
            </div>
        </section>

        <!-- Family Image Section -->
        <section class="py-0 bg-white">
            <div class="container max-w-6xl">
                <div class="relative overflow-hidden rounded-2xl shadow-2xl">
                    <img
                        src="https://raw.githubusercontent.com/BillLayne/bill-layne-images/617faee947d0b12e42abfd584cd1e9a473c55444/logos/family%20image%20photo.webp"
                        alt="Happy North Carolina family protected by Bill Layne Insurance"
                        class="w-full h-auto object-cover"
                        loading="lazy"
                        width="1200"
                        height="675"
                    />
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="services-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Comprehensive Coverage for Your Life</h2>
                    <p class="section-description">From your daily commute to your family home - we've got you covered</p>
                </div>

                <div class="service-grid">
                    <div class="service-card">
                        <div class="service-card-content">
                            <div class="service-icon-wrapper">
                                <i class="fas fa-car service-icon"></i>
                            </div>
                            <h3 class="service-title">Auto Insurance</h3>
                            <p class="service-description">Protect yourself, your passengers, and your vehicle. From liability to comprehensive coverage, we'll help you find the perfect balance of protection and affordability.</p>
                            <ul class="text-sm text-gray-600 mb-4 space-y-1">
                                <li>✓ Liability Coverage</li>
                                <li>✓ Collision & Comprehensive</li>
                                <li>✓ Uninsured Motorist</li>
                                <li>✓ Roadside Assistance</li>
                            </ul>
                            <a href="auto-quote.html" class="service-link">
                                Get Auto Quote <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </div>

                    <div class="service-card" style="background: linear-gradient(135deg, var(--primary-blue) 0%, #1d4ed8 100%); color: white;">
                        <div class="service-card-content">
                            <div class="service-icon-wrapper" style="background: rgba(255, 255, 255, 0.2);">
                                <i class="fas fa-home service-icon" style="color: white;"></i>
                            </div>
                            <h3 class="service-title" style="color: white;">Home Insurance</h3>
                            <p class="service-description" style="color: rgba(255, 255, 255, 0.95);">Your home is your biggest investment. Ensure it's properly protected with coverage for structure, belongings, and liability.</p>
                            <ul class="text-sm mb-4 space-y-1" style="color: rgba(255, 255, 255, 0.9);">
                                <li>✓ Dwelling Coverage</li>
                                <li>✓ Personal Property</li>
                                <li>✓ Liability Protection</li>
                                <li>✓ Additional Living Expenses</li>
                            </ul>
                            <a href="home-quote.html" class="service-link" style="color: white;">
                                Get Home Quote <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="text-center mt-12">
                    <p class="text-gray-600 mb-4">We also protect RVs, motorcycles, boats, businesses, and more.</p>
                    <a href="/areas-we-serve.html" class="btn btn-secondary">View All Services</a>
                </div>
            </div>
        </section>

        <!-- Why Choose Us Section -->
        <section id="why-us" class="py-20 bg-white">
            <div class="container">
                <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 items-center">
                    <div class="text-center lg:text-left">
                        <h2 class="section-title mb-4">Not Just Your Agent.<br>Your Neighbor.</h2>
                        <p class="text-lg text-gray-600 mb-8">
                            When you work with Bill Layne Insurance, you're not getting a faceless call center or an algorithm. You're getting a <strong>local Elkin agency</strong> that's been protecting families across Surry County and all of North Carolina for over 20 years.
                        </p>

                        <div class="space-y-6">
                            <div class="flex flex-col items-center lg:flex-row lg:items-start gap-4">
                                <div class="flex-shrink-0">
                                    <div class="flex items-center justify-center h-14 w-14 rounded-full bg-blue-100 text-blue-600">
                                        <i class="fas fa-handshake text-xl"></i>
                                    </div>
                                </div>
                                <div class="text-center lg:text-left">
                                    <h4 class="text-xl font-bold text-gray-900 mb-2">We Work For You</h4>
                                    <p class="text-gray-600">Unlike captive agents tied to one company, we're independent. That means we shop 10+ carriers to find YOU the best deal, not them.</p>
                                </div>
                            </div>

                            <div class="flex flex-col items-center lg:flex-row lg:items-start gap-4">
                                <div class="flex-shrink-0">
                                    <div class="flex items-center justify-center h-14 w-14 rounded-full bg-green-100 text-green-600">
                                        <i class="fas fa-clock text-xl"></i>
                                    </div>
                                </div>
                                <div class="text-center lg:text-left">
                                    <h4 class="text-xl font-bold text-gray-900 mb-2">Fast & Easy Process</h4>
                                    <p class="text-gray-600">Get competitive quotes quickly and easily. No lengthy forms. No pressure. Just honest answers and real savings.</p>
                                </div>
                            </div>

                            <div class="flex flex-col items-center lg:flex-row lg:items-start gap-4">
                                <div class="flex-shrink-0">
                                    <div class="flex items-center justify-center h-14 w-14 rounded-full bg-purple-100 text-purple-600">
                                        <i class="fas fa-shield-alt text-xl"></i>
                                    </div>
                                </div>
                                <div class="text-center lg:text-left">
                                    <h4 class="text-xl font-bold text-gray-900 mb-2">Claims Support When It Matters</h4>
                                    <p class="text-gray-600">When disaster strikes, we're in your corner. We'll advocate for you with the insurance company and ensure you get the settlement you deserve.</p>
                                </div>
                            </div>
                        </div>

                        <div class="mt-8 flex flex-col items-center lg:items-start">
                            <a href="tel:3368351993" class="btn btn-success mb-3">
                                <i class="fas fa-phone-alt"></i>
                                Talk to a Real Person Now
                            </a>
                            <p class="text-sm text-gray-600 text-center">
                                Or <a href="sms:3368506906" class="text-blue-600 font-semibold hover:underline">text us at (336) 850-6906</a>
                            </p>
                        </div>
                    </div>

                    <div class="relative">
                        <img src="https://raw.githubusercontent.com/BillLayne/bill-layne-images/31ce57748ce35edd4f59f49f823095f0a7aebf0b/logos/auto%20and%20home%20webpage.032Z.png"
                             alt="Auto and Home Insurance Protection"
                             class="rounded-2xl shadow-2xl w-full object-cover"
                             loading="lazy">

                        <!-- Floating Stat Card -->
                        <div class="absolute -bottom-6 -left-6 bg-white rounded-xl shadow-2xl p-6 max-w-xs">
                            <div class="flex items-center gap-4">
                                <div class="text-4xl">🏆</div>
                                <div>
                                    <div class="text-2xl font-bold text-blue-600">$847</div>
                                    <div class="text-sm text-gray-600">Average Annual Savings</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Interactive Coverage Analyzer Section -->
        <section id="coverage-analyzer" class="py-20 bg-gray-50">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Interactive Coverage Analyzer</h2>
                    <p class="section-description">Use our free tools to evaluate your coverage and discover potential savings</p>
                </div>

                <div class="grid md:grid-cols-3 gap-8">
                    <!-- Auto Coverage Analyzer -->
                    <div class="bg-white rounded-2xl shadow-lg p-8 hover:shadow-2xl transition-all">
                        <div class="flex justify-center mb-6">
                            <div class="w-20 h-20 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full flex items-center justify-center">
                                <i class="fas fa-car text-blue-600 text-3xl"></i>
                            </div>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 text-center mb-4">Auto Coverage Analyzer</h3>
                        <p class="text-gray-600 text-center mb-6">Find out if you're paying too much or have coverage gaps</p>
                        <a href="/auto-coverage-checkup.html" class="btn btn-primary w-full text-center">
                            Start Analysis →
                        </a>
                    </div>

                    <!-- Home Insurance Evaluator -->
                    <div class="bg-white rounded-2xl shadow-lg p-8 hover:shadow-2xl transition-all">
                        <div class="flex justify-center mb-6">
                            <div class="w-20 h-20 bg-gradient-to-br from-green-100 to-green-200 rounded-full flex items-center justify-center">
                                <i class="fas fa-home text-green-600 text-3xl"></i>
                            </div>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 text-center mb-4">Home Insurance Evaluator</h3>
                        <p class="text-gray-600 text-center mb-6">Ensure your home is properly protected at the right price</p>
                        <a href="/home-insurance-evaluator.html" class="bg-green-600 text-white px-6 py-3 rounded-full font-semibold hover:bg-green-700 transition-colors block text-center">
                            Evaluate Coverage →
                        </a>
                    </div>

                    <!-- Umbrella Policy Calculator -->
                    <div class="bg-white rounded-2xl shadow-lg p-8 hover:shadow-2xl transition-all">
                        <div class="flex justify-center mb-6">
                            <div class="w-20 h-20 bg-gradient-to-br from-purple-100 to-purple-200 rounded-full flex items-center justify-center">
                                <i class="fas fa-umbrella text-purple-600 text-3xl"></i>
                            </div>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 text-center mb-4">Umbrella Policy Calculator</h3>
                        <p class="text-gray-600 text-center mb-6">Discover if you need extra liability protection</p>
                        <a href="/umbrella-policy-calculator.html" class="bg-purple-600 text-white px-6 py-3 rounded-full font-semibold hover:bg-purple-700 transition-colors block text-center">
                            Calculate Needs →
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Interactive Learning Center Section -->
        <section id="learning-center" class="py-20 bg-white">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Interactive Learning Center</h2>
                    <p class="section-description">Test your insurance knowledge and discover your personal risk profile</p>
                </div>

                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-gradient-to-br from-blue-50 to-white rounded-xl shadow-lg p-8 border border-blue-100 hover:shadow-2xl transition-all">
                        <div class="flex items-center mb-6">
                            <span class="text-4xl mr-4">🧠</span>
                            <h3 class="text-2xl font-bold text-gray-800">Insurance IQ Quiz</h3>
                        </div>
                        <p class="text-gray-600 mb-6">Test your insurance knowledge with our fun, interactive quiz.</p>
                        <ul class="space-y-2 mb-8">
                            <li class="flex items-start">
                                <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                <span class="text-gray-700">15 expertly crafted questions</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                <span class="text-gray-700">Instant feedback and explanations</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                <span class="text-gray-700">Personalized recommendations</span>
                            </li>
                        </ul>
                        <button onclick="AnalyzerSystem.startIQQuiz()" class="btn btn-primary w-full text-center">
                            Take the Quiz →
                        </button>
                    </div>

                    <div class="bg-gradient-to-br from-green-50 to-white rounded-xl shadow-lg p-8 border border-green-100 hover:shadow-2xl transition-all">
                        <div class="flex items-center mb-6">
                            <span class="text-4xl mr-4">📊</span>
                            <h3 class="text-2xl font-bold text-gray-800">Personal Risk Assessment</h3>
                        </div>
                        <p class="text-gray-600 mb-6">Get a comprehensive analysis of your personal risk factors.</p>
                        <ul class="space-y-2 mb-8">
                            <li class="flex items-start">
                                <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                <span class="text-gray-700">Lifestyle and activity analysis</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                <span class="text-gray-700">Property and asset evaluation</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                <span class="text-gray-700">Personalized risk profile</span>
                            </li>
                        </ul>
                        <button onclick="AnalyzerSystem.startRiskAssessment()" class="bg-green-600 text-white px-6 py-3 rounded-full font-semibold hover:bg-green-700 transition-colors w-full text-center">
                            Start Assessment →
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section id="testimonials" class="py-20 bg-gray-50">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Real Stories from Real Neighbors</h2>
                    <p class="section-description">Don't just take our word for it - hear from families across Surry County</p>
                </div>

                <div class="grid lg:grid-cols-3 gap-8">
                    <div class="bg-white p-8 rounded-2xl shadow-lg border-2 border-blue-100 h-full flex flex-col">
                        <div class="flex text-yellow-400 mb-4 text-xl">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="text-gray-700 text-lg flex-grow leading-relaxed">"Bill saved us <strong>$823 a year</strong> on our auto and home bundle! He took the time to understand our needs and found us better coverage for less money. Can't recommend him enough!"</p>
                        <div class="mt-6 pt-6 border-t border-gray-200">
                            <p class="font-bold text-gray-900 text-lg">Sarah M.</p>
                            <p class="text-sm text-gray-500">Elkin, NC • Homeowner</p>
                        </div>
                    </div>

                    <div class="bg-white p-8 rounded-2xl shadow-lg border-2 border-blue-100 h-full flex flex-col">
                        <div class="flex text-yellow-400 mb-4 text-xl">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="text-gray-700 text-lg flex-grow leading-relaxed">"I switched from Allstate and <strong>saved $1,142 annually</strong> with better coverage! When a tree fell on my house, Bill was there every step of the way. He dealt with the insurance company so I could focus on getting my life back together. True professional!"</p>
                        <div class="mt-6 pt-6 border-t border-gray-200">
                            <p class="font-bold text-gray-900 text-lg">Mike T.</p>
                            <p class="text-sm text-gray-500">Mount Airy, NC • Homeowner</p>
                        </div>
                    </div>

                    <div class="bg-white p-8 rounded-2xl shadow-lg border-2 border-blue-100 h-full flex flex-col">
                        <div class="flex text-yellow-400 mb-4 text-xl">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="text-gray-700 text-lg flex-grow leading-relaxed">"<strong>Saved $674 on auto insurance alone</strong> - and got better coverage than I had before! Bill explains everything in terms I can understand and always answers my calls. No more waiting on hold with big companies. Highly recommend!"</p>
                        <div class="mt-6 pt-6 border-t border-gray-200">
                            <p class="font-bold text-gray-900 text-lg">Jennifer R.</p>
                            <p class="text-sm text-gray-500">Jonesville, NC • Auto & Home</p>
                        </div>
                    </div>
                </div>

                <!-- Google Review CTA -->
                <div class="text-center mt-12">
                    <p class="text-gray-600 mb-4 text-lg">Over <strong>200+ five-star reviews</strong> from satisfied customers</p>
                    <a href="https://www.google.com/search?q=Bill+Layne+Insurance+Agency+Elkin+NC" target="_blank" rel="noopener noreferrer" class="btn btn-secondary">
                        <i class="fab fa-google mr-2"></i>Read More Reviews on Google
                    </a>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="py-20 bg-white">
            <div class="container max-w-5xl">
                <div class="section-header">
                    <h2 class="section-title">Your Questions Answered</h2>
                    <p class="section-description">Everything you need to know about getting insured</p>
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-gray-50 p-6 rounded-xl hover:shadow-lg transition-all border-2 border-transparent hover:border-blue-600">
                        <h3 class="font-bold text-lg text-gray-800 mb-3 flex items-start gap-2">
                            <i class="fas fa-question-circle text-blue-600 mt-1"></i>
                            How much can I really save?
                        </h3>
                        <p class="text-gray-600">Our customers can save an average of $847 per year by switching. Many save even more! The only way to know your exact savings is to get a free quote.</p>
                    </div>

                    <div class="bg-gray-50 p-6 rounded-xl hover:shadow-lg transition-all border-2 border-transparent hover:border-blue-600">
                        <h3 class="font-bold text-lg text-gray-800 mb-3 flex items-start gap-2">
                            <i class="fas fa-question-circle text-blue-600 mt-1"></i>
                            How long does it take to get a quote?
                        </h3>
                        <p class="text-gray-600">Getting a quote is quick and easy! We'll ask you a few simple questions, compare rates from 10+ carriers, and present your best options - all in one call or online form.</p>
                    </div>

                    <div class="bg-gray-50 p-6 rounded-xl hover:shadow-lg transition-all border-2 border-transparent hover:border-blue-600">
                        <h3 class="font-bold text-lg text-gray-800 mb-3 flex items-start gap-2">
                            <i class="fas fa-question-circle text-blue-600 mt-1"></i>
                            Is there any cost or obligation?
                        </h3>
                        <p class="text-gray-600">Absolutely not! Getting a quote is 100% free with zero obligation. We'll never pressure you to buy. Our job is to present your options and let you decide what's best for your family.</p>
                    </div>

                    <div class="bg-gray-50 p-6 rounded-xl hover:shadow-lg transition-all border-2 border-transparent hover:border-blue-600">
                        <h3 class="font-bold text-lg text-gray-800 mb-3 flex items-start gap-2">
                            <i class="fas fa-question-circle text-blue-600 mt-1"></i>
                            Can you help me switch from my current insurer?
                        </h3>
                        <p class="text-gray-600">Yes! We handle all the paperwork and coordinate the transition to ensure there's no gap in coverage. It's completely hassle-free on your end.</p>
                    </div>

                    <div class="bg-gray-50 p-6 rounded-xl hover:shadow-lg transition-all border-2 border-transparent hover:border-blue-600">
                        <h3 class="font-bold text-lg text-gray-800 mb-3 flex items-start gap-2">
                            <i class="fas fa-question-circle text-blue-600 mt-1"></i>
                            What areas do you serve?
                        </h3>
                        <p class="text-gray-600">We proudly serve all of North Carolina with expertise in Surry, Wilkes, and Yadkin counties. Our main office is located in Elkin on North Bridge Street.</p>
                    </div>

                    <div class="bg-gray-50 p-6 rounded-xl hover:shadow-lg transition-all border-2 border-transparent hover:border-blue-600">
                        <h3 class="font-bold text-lg text-gray-800 mb-3 flex items-start gap-2">
                            <i class="fas fa-question-circle text-blue-600 mt-1"></i>
                            What if I need to file a claim?
                        </h3>
                        <p class="text-gray-600">We're here to help! Call us immediately and we'll guide you through the entire claims process. We work as your advocate to ensure you get a fair and fast settlement.</p>
                    </div>
                </div>

                <div class="text-center mt-12">
                    <p class="text-gray-600 mb-4">Still have questions?</p>
                    <a href="tel:3368351993" class="btn btn-primary">
                        <i class="fas fa-phone-alt"></i>
                        Call Us: (336) 835-1993
                    </a>
                </div>
            </div>
        </section>

        <!-- Email Capture Section -->
        <section class="py-12 bg-gradient-to-br from-blue-50 to-green-50">
            <div class="container">
                <div class="email-capture">
                    <div class="text-center mb-6">
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">Not Ready to Call Yet?</h3>
                        <p class="text-gray-600">Get our <strong>Free Insurance Savings Guide</strong> delivered to your inbox</p>
                    </div>
                    <form class="email-form" id="email-capture-form">
                        <input type="email" class="email-input" placeholder="Enter your email address" required>
                        <button type="submit" class="btn btn-primary whitespace-nowrap">
                            Get Free Guide
                        </button>
                    </form>
                    <p class="text-xs text-gray-500 text-center mt-3">
                        <i class="fas fa-lock"></i> We respect your privacy. No spam, ever.
                    </p>
                </div>
            </div>
        </section>

        <!-- Final CTA Section -->
        <section id="contact" class="py-20 bg-gradient-to-br from-blue-600 via-blue-700 to-green-600 text-white">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-3xl lg:text-5xl font-bold mb-4">
                    Ready to Start Saving?
                </h2>
                <p class="text-xl text-blue-100 mb-4">
                    Join 1,500+ North Carolina families who trust us with their insurance needs
                </p>
                <p class="text-lg text-blue-200 mb-10">
                    ⏰ Get your free quote today and see how much you could save!
                </p>

                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-8">
                    <a href="tel:3368351993" class="bg-white text-blue-600 px-10 py-5 rounded-full font-bold text-xl hover:bg-gray-100 transition-all transform hover:scale-105 shadow-2xl">
                        <i class="fas fa-phone mr-2"></i>Call (336) 835-1993
                    </a>
                    <span class="text-blue-200 font-semibold">or</span>
                    <a href="get-quote.html" class="border-3 border-white text-white px-10 py-5 rounded-full font-bold text-xl hover:bg-white hover:text-blue-600 transition-all transform hover:scale-105 shadow-2xl">
                        <i class="fas fa-calculator mr-2"></i>Get Quote Online
                    </a>
                </div>
                
                <p class="text-blue-100 mb-12">
                    Prefer to text? <a href="sms:3368506906" class="text-white font-bold hover:underline"><i class="fas fa-comment-dots"></i> (336) 850-6906</a>
                </p>

                <div class="grid md:grid-cols-2 gap-8 max-w-2xl mx-auto">
                    <div class="bg-white/10 backdrop-blur rounded-xl p-6">
                        <h3 class="font-bold text-xl mb-4">📍 Visit Our Office</h3>
                        <p class="text-blue-100 mb-2">
                            1283 N Bridge St<br>
                            Elkin, NC 28621
                        </p>
                        <p class="text-blue-100">
                            <i class="fas fa-clock mr-2"></i>
                            Mon-Fri: 9AM-5PM
                        </p>
                    </div>

                    <div class="bg-white/10 backdrop-blur rounded-xl p-6">
                        <h3 class="font-bold text-xl mb-4">✉️ Contact Us</h3>
                        <a href="mailto:Save@BillLayneInsurance.com" class="text-blue-100 hover:text-white block mb-2">
                            Save@BillLayneInsurance.com
                        </a>
                        <p class="text-blue-100 mb-1">
                            <i class="fas fa-phone mr-2"></i>
                            Call: (336) 835-1993
                        </p>
                        <p class="text-blue-100">
                            <i class="fas fa-comment-dots mr-2"></i>
                            Text: (336) 850-6906
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Google Maps Section -->
        <section class="py-12 bg-gray-50">
            <div class="container">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Visit Our Office in Elkin</h2>
                    <p class="text-gray-600">Stop by for a free quote or just to say hello!</p>
                    <p class="text-blue-600 font-semibold mt-2">
                        <i class="fas fa-map-marker-alt mr-2"></i>1283 N Bridge St, Elkin, NC 28621
                    </p>
                </div>
                <div class="max-w-4xl mx-auto">
                    <div class="rounded-2xl overflow-hidden shadow-xl" style="height: 400px;">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3229.547891891891!2d-80.85121!3d36.2476!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88509a6c8b8b8b8b%3A0x1234567890abcdef!2s1283%20N%20Bridge%20St%2C%20Elkin%2C%20NC%2028621!5e0!3m2!1sen!2sus!4v1234567890123!5m2!1sen!2sus" 
                            width="100%" 
                            height="400" 
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade"
                            title="Bill Layne Insurance Agency Location">
                        </iframe>
                    </div>
                    <div class="grid md:grid-cols-3 gap-6 mt-8">
                        <div class="text-center bg-white p-6 rounded-xl shadow-md">
                            <i class="fas fa-clock text-blue-600 text-3xl mb-3"></i>
                            <h3 class="font-bold text-gray-800 mb-2">Office Hours</h3>
                            <p class="text-gray-600">Monday - Friday<br>9:00 AM - 5:00 PM</p>
                        </div>
                        <div class="text-center bg-white p-6 rounded-xl shadow-md">
                            <i class="fas fa-phone text-green-600 text-3xl mb-3"></i>
                            <h3 class="font-bold text-gray-800 mb-2">Call or Text</h3>
                            <p class="text-gray-600">
                                <a href="tel:3368351993" class="text-blue-600 hover:underline">Call: (336) 835-1993</a><br>
                                <a href="sms:3368506906" class="text-blue-600 hover:underline">Text: (336) 850-6906</a>
                            </p>
                        </div>
                        <div class="text-center bg-white p-6 rounded-xl shadow-md">
                            <i class="fas fa-envelope text-purple-600 text-3xl mb-3"></i>
                            <h3 class="font-bold text-gray-800 mb-2">Email Us</h3>
                            <p class="text-gray-600">
                                <a href="mailto:Save@BillLayneInsurance.com" class="text-blue-600 hover:underline break-all">Save@BillLayneInsurance.com</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modern Footer -->
    <footer class="footer-modern">
        <div class="footer-content">
            <div class="footer-grid">
                <div>
                    <h3 class="text-xl font-bold mb-4">Bill Layne Insurance</h3>
                    <p class="text-gray-400 mb-4">Your local independent insurance agency serving Surry County and all of North Carolina families and businesses for over 20 years.</p>
                    <div class="flex space-x-4">
                        <a href="https://www.facebook.com/dollarbillagency/" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-facebook-f text-xl"></i>
                        </a>
                        <a href="https://www.google.com/maps/place/Bill+Layne+Insurance+Agency" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-google text-xl"></i>
                        </a>
                        <a href="https://www.yelp.com/biz/bill-layne-insurance-agency-elkin" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-yelp text-xl"></i>
                        </a>
                    </div>
                </div>

                <div>
                    <h4 class="font-semibold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="https://billlayne.github.io/Auto-Insurance-Center/" class="footer-link">Auto Insurance</a></li>
                        <li><a href="https://billlayne.github.io/NC-Home-Insurance.github.io/" class="footer-link">Home Insurance</a></li>
                        <li><a href="/areas-we-serve.html#business" class="footer-link">Business Insurance</a></li>
                        <li><a href="https://billlayne.github.io/NC-Insurance-Claims-Center.github.io/" class="footer-link">File a Claim</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-semibold mb-4">Service Areas</h4>
                    <ul class="space-y-2">
                        <li><a href="https://billlayne.github.io/Save-In-Elkin-NC/" class="footer-link">Elkin, NC</a></li>
                        <li><a href="https://billlayne.github.io/Save-In-Mt-Airy/" class="footer-link">Mount Airy, NC</a></li>
                        <li><a href="https://billlayne.github.io/Save-In-Jonesville-NC/" class="footer-link">Jonesville, NC</a></li>
                        <li><a href="https://billlayne.github.io/Save-In-Wilkesboro-NC/" class="footer-link">Wilkesboro, NC</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-semibold mb-4">Contact Info</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li>
                            <a href="tel:3368351993" class="hover:text-white transition-colors">
                                <i class="fas fa-phone mr-2"></i>(336) 835-1993
                            </a>
                        </li>
                        <li>
                            <a href="sms:3368506906" class="hover:text-white transition-colors">
                                <i class="fas fa-comment-dots mr-2"></i>(336) 850-6906 (Text)
                            </a>
                        </li>
                        <li>
                            <a href="mailto:Save@BillLayneInsurance.com" class="hover:text-white transition-colors">
                                <i class="fas fa-envelope mr-2"></i>Save@BillLayneInsurance.com
                            </a>
                        </li>
                        <li><i class="fas fa-map-marker-alt mr-2"></i>1283 N Bridge St<br><span class="ml-6">Elkin, NC 28621</span></li>
                        <li><i class="fas fa-clock mr-2"></i>Mon-Fri: 9AM-5PM</li>
                    </ul>
                </div>
            </div>

            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2024 Bill Layne Insurance Agency. All rights reserved. | NC Licensed Independent Agency</p>
                <p class="mt-2 text-sm">Serving Elkin, Mount Airy, Jonesville, Wilkesboro & All of North Carolina</p>
            </div>
        </div>
    </footer>

    <!-- Sticky Mobile Action Bar -->
    <div class="mobile-action-bar">
        <a href="tel:3368351993" class="mobile-action-btn success">
            <i class="fas fa-phone"></i>
            <span>Call</span>
        </a>
        <button id="mobile-ai-btn" class="mobile-action-btn" style="background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%); color: white; border: none; cursor: pointer;">
            <i class="fas fa-robot"></i>
            <span>Ask AI</span>
        </button>
        <a href="get-quote.html" class="mobile-action-btn info">
            <i class="fas fa-calculator"></i>
            <span>Quote</span>
        </a>
        <a href="https://www.google.com/maps/place/Bill+Layne+Insurance+Agency,+1283+N+Bridge+St,+Elkin,+NC+28621" target="_blank" rel="noopener noreferrer" class="mobile-action-btn warning">
            <i class="fas fa-map-marker-alt"></i>
            <span>Map</span>
        </a>
    </div>

    <!-- JavaScript -->
    <script>
        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.getElementById('main-header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Universal menu functionality
        const menuToggleBtn = document.getElementById('menu-toggle-btn');
        const navigationMenu = document.getElementById('navigation-menu');
        const menuOverlay = document.getElementById('menu-overlay');
        const closeMenuBtn = document.getElementById('close-menu');

        function toggleMenu() {
            menuToggleBtn.classList.toggle('active');
            navigationMenu.classList.toggle('active');
            menuOverlay.classList.toggle('active');
            document.body.style.overflow = navigationMenu.classList.contains('active') ? 'hidden' : '';
        }

        function closeMenu() {
            menuToggleBtn.classList.remove('active');
            navigationMenu.classList.remove('active');
            menuOverlay.classList.remove('active');
            document.body.style.overflow = '';
        }

        menuToggleBtn.addEventListener('click', toggleMenu);
        closeMenuBtn.addEventListener('click', closeMenu);
        menuOverlay.addEventListener('click', closeMenu);

        // Close menu when clicking on internal navigation links
        const menuNavLinks = navigationMenu.querySelectorAll('a[href^="#"]');
        menuNavLinks.forEach(link => {
            link.addEventListener('click', closeMenu);
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const headerHeight = document.getElementById('main-header').offsetHeight;
                    const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - headerHeight;
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Email capture form
        document.getElementById('email-capture-form').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Thank you! Your Free Insurance Savings Guide will be sent to your email shortly.');
            this.reset();
        });

        // Track CTA clicks (you can integrate with Google Analytics)
        document.querySelectorAll('a[href*="tel:"], a[href*="auto-quote"]').forEach(link => {
            link.addEventListener('click', function() {
                console.log('CTA clicked:', this.href);
                // Add your analytics tracking code here
            });
        });
    </script>

    <!-- Load app.js for analyzer functionality -->
    <script src="app.js"></script>

    <!-- Enhanced Schema Markup for SEO -->
    
    <!-- LocalBusiness Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "InsuranceAgency",
      "name": "Bill Layne Insurance Agency",
      "@id": "https://www.billlayneinsurance.com",
      "url": "https://www.billlayneinsurance.com",
      "logo": "https://i.imgur.com/cBAgeX8.png",
      "image": "https://i.imgur.com/cBAgeX8.png",
      "telephone": "+13368351993",
      "email": "Save@BillLayneInsurance.com",
      "sameAs": [
        "https://www.facebook.com/dollarbillagency/",
        "https://www.google.com/maps/place/Bill+Layne+Insurance+Agency"
      ],
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "1283 N Bridge St",
        "addressLocality": "Elkin",
        "addressRegion": "NC",
        "postalCode": "28621",
        "addressCountry": "US"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": "36.2476",
        "longitude": "-80.8490"
      },
      "openingHoursSpecification": [
        {
          "@type": "OpeningHoursSpecification",
          "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
          "opens": "09:00",
          "closes": "17:00"
        }
      ],
      "areaServed": [
        {
          "@type": "City",
          "name": "Elkin",
          "containedIn": {
            "@type": "State",
            "name": "North Carolina"
          }
        },
        {
          "@type": "City",
          "name": "Mount Airy",
          "containedIn": {
            "@type": "State",
            "name": "North Carolina"
          }
        },
        {
          "@type": "City",
          "name": "Jonesville",
          "containedIn": {
            "@type": "State",
            "name": "North Carolina"
          }
        },
        {
          "@type": "City",
          "name": "Wilkesboro",
          "containedIn": {
            "@type": "State",
            "name": "North Carolina"
          }
        },
        {
          "@type": "AdministrativeArea",
          "name": "Surry County",
          "containedIn": {
            "@type": "State",
            "name": "North Carolina"
          }
        },
        {
          "@type": "State",
          "name": "North Carolina"
        }
      ],
      "priceRange": "$$",
      "description": "Independent insurance agency in Elkin serving Surry County & all of North Carolina for 20+ years. Customers can save an average of $847/year. Compare quotes from 10+ top carriers for auto, home, and business insurance.",
      "foundingDate": "2004",
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.9",
        "bestRating": "5",
        "worstRating": "1",
        "ratingCount": "200",
        "reviewCount": "200"
      },
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Insurance Services",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Auto Insurance",
              "description": "Comprehensive auto insurance coverage from 10+ top carriers including Nationwide, Progressive, and Travelers"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Home Insurance",
              "description": "Complete home insurance protection for North Carolina homeowners with dwelling, liability, and personal property coverage"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Business Insurance",
              "description": "Business insurance solutions for small businesses and contractors in North Carolina"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Umbrella Insurance",
              "description": "Additional liability protection beyond your auto and home insurance limits"
            }
          }
        ]
      }
    }
    </script>

    <!-- FAQ Schema for Rich Snippets -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How much can I really save on insurance?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Our customers can save an average of $847 per year by switching. Many save even more! The only way to know your exact savings is to get a free quote from our independent agency where we compare rates from 10+ top carriers."
          }
        },
        {
          "@type": "Question",
          "name": "How long does it take to get a quote?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Getting a quote is quick and easy! We'll ask you a few simple questions, compare rates from 10+ carriers, and present your best options - all in one call or online form."
          }
        },
        {
          "@type": "Question",
          "name": "Is there any cost or obligation to get a quote?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Absolutely not! Getting a quote is 100% free with zero obligation. We'll never pressure you to buy. Our job is to present your options and let you decide what's best for your family."
          }
        },
        {
          "@type": "Question",
          "name": "Can you help me switch from my current insurer?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes! We handle all the paperwork and coordinate the transition to ensure there's no gap in coverage. It's completely hassle-free on your end."
          }
        },
        {
          "@type": "Question",
          "name": "What areas do you serve?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "We proudly serve all of North Carolina with expertise in Surry, Wilkes, and Yadkin counties. Our main office is located in Elkin on North Bridge Street."
          }
        },
        {
          "@type": "Question",
          "name": "What if I need to file a claim?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "We're here to help! Call us immediately at (336) 835-1993 and we'll guide you through the entire claims process. We work as your advocate to ensure you get a fair and fast settlement."
          }
        }
      ]
    }
    </script>

    <!-- Review Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Review",
      "itemReviewed": {
        "@type": "InsuranceAgency",
        "name": "Bill Layne Insurance Agency"
      },
      "reviewRating": {
        "@type": "Rating",
        "ratingValue": "5",
        "bestRating": "5"
      },
      "author": {
        "@type": "Person",
        "name": "Sarah M."
      },
      "reviewBody": "Bill saved us over $823 a year on our auto and home insurance! He took the time to understand our needs and found us better coverage for less money. Can't recommend him enough!"
    }
    </script>

    <!-- ============================================ -->
    <!-- AI INSURANCE ASSISTANT WIDGET -->
    <!-- ============================================ -->
    <div id="ai-chat-widget">
        <!-- Floating Chat Button -->
        <button id="ai-chat-button" class="ai-chat-btn" aria-label="Chat with AI Insurance Assistant">
            <div class="ai-btn-content">
                <i class="fas fa-robot"></i>
                <span class="ai-btn-text">Ask AI</span>
            </div>
            <div class="ai-btn-pulse"></div>
        </button>

        <!-- Chat Window -->
        <div id="ai-chat-window" class="ai-chat-window">
            <!-- Header -->
            <div class="ai-chat-header">
                <div class="ai-header-content">
                    <div class="ai-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div>
                        <h3>AI Insurance Advisor</h3>
                        <p class="ai-status">
                            <span class="ai-status-dot"></span>
                            Online 24/7
                        </p>
                    </div>
                </div>
                <button id="ai-chat-close" class="ai-close-btn" aria-label="Close chat">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Messages Container -->
            <div id="ai-chat-messages" class="ai-chat-messages">
                <!-- Welcome Message -->
                <div class="ai-message ai-bot">
                    <div class="ai-message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="ai-message-content">
                        <p><strong>👋 Hi! I'm Bill Layne Insurance's AI Assistant.</strong></p>
                        <p>I can help you with:</p>
                        <ul class="ai-help-list">
                            <li>✓ Coverage questions & explanations</li>
                            <li>✓ Understanding policy types</li>
                            <li>✓ General insurance guidance</li>
                            <li>✓ Connecting you with our team</li>
                        </ul>
                        <p><em>What can I help you with today?</em></p>
                    </div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="ai-chat-input-container">
                <!-- Typing Indicator -->
                <div class="ai-typing-indicator" id="ai-typing" style="display: none;">
                    <span></span><span></span><span></span>
                </div>

                <!-- Input Form -->
                <form id="ai-chat-form" class="ai-chat-form">
                    <input
                        type="text"
                        id="ai-chat-input"
                        class="ai-chat-input"
                        placeholder="Type your question..."
                        autocomplete="off"
                        required
                    />
                    <button type="submit" class="ai-send-btn" aria-label="Send message">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </form>

                <!-- Disclaimer -->
                <p class="ai-disclaimer">
                    Powered by AI • For quotes: <a href="tel:3368351993">(336) 835-1993</a>
                </p>
            </div>
        </div>
    </div>

    <script>
    /* ============================================ */
    /* AI INSURANCE ASSISTANT JAVASCRIPT */
    /* ============================================ */

    // Configuration
    const AI_CONFIG = {
        GEMINI_API_KEY: 'AIzaSyB35xkgbQdRMiidikOu-wLmn7ix6rfILws',
        GEMINI_API_URL: 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent',
        MAX_RETRIES: 3,
        RETRY_DELAY: 1000
    };

    class AIInsuranceChat {
        constructor() {
            // DOM Elements
            this.chatButton = document.getElementById('ai-chat-button');
            this.chatWindow = document.getElementById('ai-chat-window');
            this.closeButton = document.getElementById('ai-chat-close');
            this.chatForm = document.getElementById('ai-chat-form');
            this.chatInput = document.getElementById('ai-chat-input');
            this.messagesContainer = document.getElementById('ai-chat-messages');
            this.typingIndicator = document.getElementById('ai-typing');

            // State
            this.conversationHistory = [];
            this.isProcessing = false;

            // Initialize
            this.init();
        }

        init() {
            // Verify DOM elements exist
            if (!this.chatButton || !this.chatWindow) {
                console.error('AI Chat: Required DOM elements not found');
                return;
            }

            // Event listeners
            this.chatButton.addEventListener('click', () => this.toggleChat());
            this.closeButton.addEventListener('click', () => this.toggleChat());
            this.chatForm.addEventListener('submit', (e) => this.handleSubmit(e));

            // Initialize conversation with system prompt
            this.initializeSystemPrompt();

            // Track analytics
            this.trackEvent('ai_chat_loaded');
        }

        initializeSystemPrompt() {
            const systemPrompt = `You are a helpful AI insurance advisor for Bill Layne Insurance Agency in Elkin, North Carolina.

**Your Role:**
- Answer general insurance questions about auto, home, business, and umbrella policies
- Educate visitors about coverage types and insurance basics
- Pre-qualify leads by understanding their needs
- Guide visitors to speak with a human agent for quotes and policy purchases
- Be friendly, professional, and conversational

**Key Agency Information:**
- Independent agency serving North Carolina for 20+ years
- Compare quotes from 10+ top carriers (Nationwide, Progressive, Travelers, National General, Alamance, Foremost)
- Customers save an average of $847/year
- Phone: (336) 835-1993
- Text: (336) 850-6906
- Email: Save@BillLayneInsurance.com
- Location: 1283 N Bridge St, Elkin, NC 28621
- Hours: Mon-Fri 9AM-5PM

**Response Guidelines:**
1. Keep responses concise (2-4 short paragraphs maximum)
2. Use bullet points when listing 3+ items
3. For pricing questions: Explain that rates depend on many factors and direct them to call for accurate quotes
4. For policy purchase: Always direct to call (336) 835-1993 or visit the quote page
5. Never provide specific dollar amounts or guarantees
6. Use natural, friendly language - not robotic
7. If question is too complex: Suggest speaking with Bill or an agent directly

**Topics You Can Help With:**
- Coverage explanations (liability, collision, comprehensive, etc.)
- Why independent agents offer better value
- How bundling auto + home saves money
- General claims process overview
- "What coverage do I need?" guidance
- Difference between policy types
- North Carolina insurance requirements

**Always Include:** After answering, offer a relevant next step (call, text, or visit quote page).

Now respond naturally to visitor questions following these guidelines.`;

            this.conversationHistory.push({
                role: 'user',
                parts: [{ text: systemPrompt }]
            });

            this.conversationHistory.push({
                role: 'model',
                parts: [{ text: 'Understood. I will help visitors with their insurance questions while following all guidelines and directing them to contact the agency for specific quotes and policy purchases.' }]
            });
        }

        toggleChat() {
            const isActive = this.chatWindow.classList.toggle('active');

            if (isActive) {
                this.chatInput.focus();
                this.trackEvent('ai_chat_opened');
            } else {
                this.trackEvent('ai_chat_closed');
            }
        }

        async handleSubmit(e) {
            e.preventDefault();

            if (this.isProcessing) return;

            const message = this.chatInput.value.trim();
            if (!message) return;

            // Add user message to UI
            this.addMessage(message, 'user');
            this.chatInput.value = '';
            this.isProcessing = true;

            // Track user message
            this.trackEvent('ai_chat_message_sent', message.substring(0, 100));

            // Show typing indicator
            this.showTyping();

            // Get AI response with retry logic
            try {
                const response = await this.getAIResponseWithRetry(message);
                this.hideTyping();
                this.addMessage(response, 'bot');

                // Add contextual quick actions
                this.addQuickActions(message, response);

                this.trackEvent('ai_chat_response_received');
            } catch (error) {
                console.error('Error getting AI response:', error);
                this.hideTyping();
                this.addErrorMessage();
                this.trackEvent('ai_chat_error', error.message);
            } finally {
                this.isProcessing = false;
            }
        }

        async getAIResponseWithRetry(userMessage, retryCount = 0) {
            try {
                return await this.getAIResponse(userMessage);
            } catch (error) {
                if (retryCount < AI_CONFIG.MAX_RETRIES) {
                    console.log(`Retry attempt ${retryCount + 1}/${AI_CONFIG.MAX_RETRIES}`);
                    await this.delay(AI_CONFIG.RETRY_DELAY * (retryCount + 1));
                    return this.getAIResponseWithRetry(userMessage, retryCount + 1);
                }
                throw error;
            }
        }

        async getAIResponse(userMessage) {
            // Add user message to conversation history
            this.conversationHistory.push({
                role: 'user',
                parts: [{ text: userMessage }]
            });

            // Prepare API request
            const requestBody = {
                contents: this.conversationHistory,
                generationConfig: {
                    temperature: 0.7,
                    topK: 40,
                    topP: 0.95,
                    maxOutputTokens: 500,
                },
                safetySettings: [
                    {
                        category: "HARM_CATEGORY_HARASSMENT",
                        threshold: "BLOCK_MEDIUM_AND_ABOVE"
                    },
                    {
                        category: "HARM_CATEGORY_HATE_SPEECH",
                        threshold: "BLOCK_MEDIUM_AND_ABOVE"
                    },
                    {
                        category: "HARM_CATEGORY_SEXUALLY_EXPLICIT",
                        threshold: "BLOCK_MEDIUM_AND_ABOVE"
                    },
                    {
                        category: "HARM_CATEGORY_DANGEROUS_CONTENT",
                        threshold: "BLOCK_MEDIUM_AND_ABOVE"
                    }
                ]
            };

            // Make API call
            const response = await fetch(`${AI_CONFIG.GEMINI_API_URL}?key=${AI_CONFIG.GEMINI_API_KEY}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(requestBody)
            });

            if (!response.ok) {
                const errorData = await response.json().catch(() => ({}));
                throw new Error(`API Error: ${response.status} - ${errorData.error?.message || 'Unknown error'}`);
            }

            const data = await response.json();

            // Extract AI response
            if (!data.candidates || !data.candidates[0] || !data.candidates[0].content) {
                throw new Error('Invalid API response structure');
            }

            const aiResponse = data.candidates[0].content.parts[0].text;

            // Add AI response to conversation history
            this.conversationHistory.push({
                role: 'model',
                parts: [{ text: aiResponse }]
            });

            return aiResponse;
        }

        addMessage(text, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `ai-message ai-${type}`;

            const avatar = document.createElement('div');
            avatar.className = 'ai-message-avatar';
            avatar.innerHTML = type === 'bot'
                ? '<i class="fas fa-robot"></i>'
                : '<i class="fas fa-user"></i>';

            const content = document.createElement('div');
            content.className = 'ai-message-content';

            // Format text (convert markdown-style to HTML)
            const formattedText = this.formatMessage(text);
            content.innerHTML = formattedText;

            messageDiv.appendChild(avatar);
            messageDiv.appendChild(content);
            this.messagesContainer.appendChild(messageDiv);

            this.scrollToBottom();
        }

        formatMessage(text) {
            // Convert markdown-style formatting to HTML
            return text
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/\n\n/g, '</p><p>')
                .replace(/\n/g, '<br>')
                .replace(/^(.+)$/gm, '<p>$1</p>')
                .replace(/<p><\/p>/g, '');
        }

        addErrorMessage() {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'ai-message ai-bot';

            const avatar = document.createElement('div');
            avatar.className = 'ai-message-avatar';
            avatar.innerHTML = '<i class="fas fa-robot"></i>';

            const content = document.createElement('div');
            content.className = 'ai-message-content ai-error-message';
            content.innerHTML = `
                <p><strong>I apologize, but I'm having trouble connecting right now.</strong></p>
                <p>Please reach out to us directly for immediate assistance:</p>
                <div class="ai-quick-actions" style="margin-top: 12px;">
                    <button class="ai-quick-btn" onclick="window.location.href='tel:3368351993'">
                        📞 Call (336) 835-1993
                    </button>
                    <button class="ai-quick-btn" onclick="window.location.href='sms:3368506906'">
                        💬 Text Us
                    </button>
                </div>
            `;

            errorDiv.appendChild(avatar);
            errorDiv.appendChild(content);
            this.messagesContainer.appendChild(errorDiv);

            this.scrollToBottom();
        }

        addQuickActions(userMessage, aiResponse) {
            const lowercaseMessage = (userMessage + ' ' + aiResponse).toLowerCase();
            const actions = [];

            // Detect intent and add relevant quick actions
            if (lowercaseMessage.includes('quote') ||
                lowercaseMessage.includes('price') ||
                lowercaseMessage.includes('cost') ||
                lowercaseMessage.includes('how much')) {
                actions.push(
                    { text: '📞 Call for Quote', action: 'tel:3368351993' },
                    { text: '💻 Online Quote', action: '/get-quote.html' }
                );
            }

            if (lowercaseMessage.includes('auto') || lowercaseMessage.includes('car')) {
                if (!actions.some(a => a.text.includes('Quote'))) {
                    actions.push({ text: '🚗 Get Auto Quote', action: '/get-quote.html' });
                }
            }

            if (lowercaseMessage.includes('home') || lowercaseMessage.includes('house')) {
                if (!actions.some(a => a.text.includes('Quote'))) {
                    actions.push({ text: '🏠 Get Home Quote', action: '/get-quote.html' });
                }
            }

            if (lowercaseMessage.includes('contact') ||
                lowercaseMessage.includes('reach') ||
                lowercaseMessage.includes('speak') ||
                lowercaseMessage.includes('talk')) {
                actions.push(
                    { text: '📞 Call Now', action: 'tel:3368351993' },
                    { text: '💬 Text Us', action: 'sms:3368506906' }
                );
            }

            // Add actions if any were identified
            if (actions.length > 0) {
                const lastMessage = this.messagesContainer.lastElementChild;
                const actionsDiv = document.createElement('div');
                actionsDiv.className = 'ai-quick-actions';

                actions.forEach(action => {
                    const btn = document.createElement('button');
                    btn.className = 'ai-quick-btn';
                    btn.textContent = action.text;
                    btn.onclick = () => {
                        if (action.action.startsWith('tel:') || action.action.startsWith('sms:')) {
                            window.location.href = action.action;
                        } else {
                            window.location.href = action.action;
                        }
                        this.trackEvent('ai_quick_action_clicked', action.text);
                    };
                    actionsDiv.appendChild(btn);
                });

                lastMessage.querySelector('.ai-message-content').appendChild(actionsDiv);
            }
        }

        showTyping() {
            this.typingIndicator.style.display = 'flex';
            this.scrollToBottom();
        }

        hideTyping() {
            this.typingIndicator.style.display = 'none';
        }

        scrollToBottom() {
            setTimeout(() => {
                this.messagesContainer.scrollTop = this.messagesContainer.scrollHeight;
            }, 100);
        }

        delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        trackEvent(eventName, eventData = '') {
            // Google Analytics tracking (if available)
            if (typeof gtag !== 'undefined') {
                gtag('event', eventName, {
                    'event_category': 'AI Chat',
                    'event_label': eventData,
                    'value': 1
                });
            }

            // Console log for debugging
            console.log(`AI Chat Event: ${eventName}`, eventData);
        }
    }

    // Initialize AI Chat when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => {
            window.aiChat = new AIInsuranceChat();
            initializeAIButtons();
        });
    } else {
        window.aiChat = new AIInsuranceChat();
        initializeAIButtons();
    }

    // Initialize AI button event listeners
    function initializeAIButtons() {
        // Mobile AI button (in action bar)
        const mobileAIBtn = document.getElementById('mobile-ai-btn');
        if (mobileAIBtn) {
            mobileAIBtn.addEventListener('click', () => {
                if (window.aiChat) {
                    window.aiChat.toggleChat();
                }
            });
        }

        // Hero AI button (desktop)
        const heroAIBtn = document.getElementById('hero-ai-btn');
        if (heroAIBtn) {
            heroAIBtn.addEventListener('click', () => {
                if (window.aiChat) {
                    window.aiChat.toggleChat();
                }
            });
        }
    }
    </script>
</body>
</html>
