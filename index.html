<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Save $847/yr on Auto & Home Insurance | Bill Layne Insurance Agency Elkin NC</title>
    <meta name="description" content="Stop overpaying for insurance in North Carolina. Bill Layne Insurance shops 10+ top carriers like Travelers and Progressive to save you an average of $847/year. Local Elkin experts since 2004.">

    <!-- SEO & Social Meta -->
    <meta property="og:title" content="Save $847 on NC Auto & Home Insurance | Bill Layne Agency">
    <meta property="og:description" content="Independent agents shopping 10+ carriers to find you the best rate in North Carolina.">
    <meta property="og:type" content="website">
    <link rel="canonical" href="https://www.billlayneinsurance.com/">

    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { 
                        sans: ['Inter', 'sans-serif'],
                        display: ['Outfit', 'sans-serif'],
                    },
                    colors: {
                        primary: {
                            50: '#eef2ff', 100: '#e0e7ff', 200: '#c7d2fe', 400: '#818cf8', 500: '#6366f1',
                            600: '#4f46e5', 700: '#4338ca', 800: '#3730a3', 900: '#1e1b4b',
                        },
                        accent: {
                            50: '#fffbeb', 100: '#fef3c7', 200: '#fde68a', 300: '#fcd34d',
                            400: '#fbbf24', 500: '#f59e0b', 600: '#d97706', 700: '#b45309',
                        }
                    },
                    animation: {
                        'blob': 'blob 15s infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'marquee': 'marquee 40s linear infinite',
                        'pulse-glow': 'pulse-glow 3s infinite',
                    },
                    keyframes: {
                        blob: {
                            '0%, 100%': { transform: 'translate(0px, 0px) scale(1)' },
                            '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                        },
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-15px)' } },
                        marquee: { '0%': { transform: 'translateX(0)' }, '100%': { transform: 'translateX(-50%)' } },
                        'pulse-glow': { '0%, 100%': { opacity: '1', transform: 'scale(1)' }, '50%': { opacity: '0.8', transform: 'scale(1.05)' } }
                    }
                }
            }
        }
    </script>
    <style>
        body { -webkit-tap-highlight-color: transparent; }
        .glass-nav {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border-bottom: 1px solid rgba(226, 232, 240, 0.8);
        }
        .bg-vivid-hero {
            background: radial-gradient(circle at top right, #3730a3, #0f172a);
            position: relative;
        }
        .bg-vivid-hero::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image: url('https://grainy-gradients.vercel.app/noise.svg');
            opacity: 0.15;
            mix-blend-overlay: overlay;
            pointer-events: none;
        }
        .reveal { opacity: 0; transform: translateY(30px); transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
        .reveal.active { opacity: 1; transform: translateY(0); }
        .glass-dark { background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(16px); border: 1px solid rgba(255, 255, 255, 0.1); }
        
        .btn-shine {
            position: relative;
            overflow: hidden;
        }
        .btn-shine::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 100%;
            background: linear-gradient(to right, transparent, rgba(255,255,255,0.4), transparent);
            transform: skewX(-25deg);
            animation: shine 4s infinite;
        }
        @keyframes shine { 0% { left: -100%; } 20% { left: 200%; } 100% { left: 200%; } }
        
        .chat-open { transform: scale(1) translateY(0); opacity: 1; pointer-events: auto; }
        .chat-closed { transform: scale(0.9) translateY(40px); opacity: 0; pointer-events: none; }
        .accordion-content { transition: max-height 0.3s ease, opacity 0.3s ease; max-height: 0; opacity: 0; overflow: hidden; }
        .accordion-content.open { opacity: 1; }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
        .marquee-mask {
            mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
            -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
        }
        .hero-clip {
          clip-path: polygon(0 0, 100% 0, 100% 90%, 0% 100%);
        }
        @media (max-width: 768px) {
          .hero-clip { clip-path: none; }
        }
    </style>
    <script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@1.33.0",
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
</head>
<body class="bg-white text-slate-800 font-sans selection:bg-primary-100 overflow-x-hidden">

    <!-- NAVIGATION -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-500 top-0 h-16 md:h-24 bg-transparent">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex justify-between items-center">
            <a href="index.html" class="flex flex-col leading-none group relative z-50">
                <span id="nav-logo-text" class="text-xl md:text-2xl font-display font-black tracking-tight transition-colors text-white">
                    Bill Layne <span id="nav-logo-accent" class="text-accent-400">Insurance</span>
                </span>
                <span id="nav-tagline" class="text-[9px] md:text-[10px] font-bold uppercase tracking-widest mt-1 transition-colors text-indigo-200">
                    Trusted Local Experts Since 2004
                </span>
            </a>

            <div class="flex items-center gap-3 md:gap-6">
                <a id="nav-phone-btn" href="tel:3368351993" class="hidden sm:flex items-center font-bold text-slate-700 hover:text-primary-600 transition-all bg-white px-5 py-2 rounded-full shadow-lg border border-slate-100 text-xs md:text-sm relative group">
                    <span id="status-dot" class="absolute top-1 right-1 w-2 h-2 rounded-full bg-green-500 animate-pulse hidden"></span>
                    <i class="fas fa-phone-alt mr-2 text-primary-500"></i>(336) 835-1993
                </a>
                <a href="https://billlayneinsurance.com/get-quote" class="hidden md:block bg-gradient-to-r from-primary-600 to-indigo-600 text-white px-6 py-2.5 rounded-full text-xs font-black shadow-xl shadow-primary-500/30 transition-all hover:scale-105 active:scale-95 btn-shine">
                    Get Free Quote
                </a>
                <button id="menu-btn" class="p-2 rounded-full transition-colors focus:outline-none hover:bg-white/10 text-white" aria-label="Open Menu">
                    <div class="w-6 h-4 flex flex-col justify-between relative">
                        <span class="nav-hamburger-line w-full h-0.5 rounded-full bg-white transition-all"></span>
                        <span class="nav-hamburger-line w-full h-0.5 rounded-full bg-white transition-all"></span>
                        <span class="nav-hamburger-line w-full h-0.5 rounded-full bg-white transition-all"></span>
                    </div>
                </button>
            </div>
        </div>
    </nav>

    <!-- MOBILE DRAWER -->
    <div id="menu-overlay" class="fixed inset-0 bg-slate-900/60 z-[60] backdrop-blur-md transition-opacity duration-300 opacity-0 pointer-events-none"></div>
    <div id="menu-drawer" class="fixed top-0 right-0 w-80 max-w-full h-full bg-white z-[70] shadow-2xl transform translate-x-full transition-transform duration-500 flex flex-col">
        <div class="p-6 flex justify-between items-center border-b border-slate-100">
            <h3 class="text-lg font-display font-black text-slate-900">Explore Coverage</h3>
            <button id="menu-close" class="w-10 h-10 flex items-center justify-center rounded-full bg-slate-50 text-slate-500">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="flex-1 overflow-y-auto p-4 space-y-1">
            <a href="index.html" class="flex items-center gap-3 p-4 rounded-xl bg-primary-50 text-primary-700 font-bold transition-all"><i class="fas fa-home w-5"></i> Home</a>
            <a href="areas-we-serve.html" class="flex items-center gap-3 p-4 rounded-xl hover:bg-slate-50 text-slate-600 font-bold transition-all"><i class="fas fa-map-marked-alt w-5 text-purple-500"></i> Areas We Serve</a>
            <a href="https://billlayne.github.io/Auto-Insurance-Center/" class="flex items-center gap-3 p-4 rounded-xl hover:bg-slate-50 text-slate-600 font-bold transition-all"><i class="fas fa-car w-5 text-blue-500"></i> Auto Center</a>
            <a href="https://billlayne.github.io/NC-Home-Insurance.github.io/" class="flex items-center gap-3 p-4 rounded-xl hover:bg-slate-50 text-slate-600 font-bold transition-all"><i class="fas fa-house w-5 text-green-500"></i> Home Insurance</a>
            <a href="https://billlayne.github.io/NC-Insurance-Claims-Center.github.io/" class="flex items-center gap-3 p-4 rounded-xl hover:bg-slate-50 text-slate-600 font-bold transition-all"><i class="fas fa-file-medical-alt w-5 text-red-500"></i> Claims Center</a>
            <a href="https://billlayne.github.io/Resources/" class="flex items-center gap-3 p-4 rounded-xl hover:bg-slate-50 text-slate-600 font-bold transition-all"><i class="fas fa-book w-5 text-orange-500"></i> Resources</a>
            <a href="https://billlayne.github.io/ethereal-blog-landing/" target="_blank" class="flex items-center gap-3 p-4 rounded-xl hover:bg-slate-50 text-slate-600 font-bold transition-all"><i class="fas fa-blog w-5 text-indigo-500"></i> Blog</a>
            <a href="contact-us.html" class="flex items-center gap-3 p-4 rounded-xl hover:bg-slate-50 text-slate-600 font-bold transition-all"><i class="fas fa-envelope w-5 text-slate-400"></i> Contact Us</a>
        </div>
        <div class="p-6 border-t border-slate-100 bg-slate-50">
            <a href="tel:3368351993" class="block w-full py-4 bg-primary-600 text-white text-center rounded-xl font-black shadow-xl">CALL AGENT DIRECTLY</a>
        </div>
    </div>

    <!-- HERO SECTION (Fold-Optimized) -->
    <header id="home" class="relative pt-24 pb-12 md:pt-48 md:pb-32 bg-vivid-hero text-white overflow-hidden min-h-[80vh] md:min-h-screen flex items-center hero-clip">
        <div class="absolute top-[-5%] left-[-10%] w-[100%] h-[50%] bg-indigo-500/20 rounded-full blur-[120px] animate-blob"></div>
        <div class="absolute bottom-[5%] right-[-10%] w-[80%] h-[50%] bg-primary-400/10 rounded-full blur-[100px] animate-blob" style="animation-delay: 5s;"></div>
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 w-full">
            <div class="grid lg:grid-cols-2 gap-8 md:gap-16 items-center">
                <div class="text-center lg:text-left reveal active">
                    <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/10 backdrop-blur-xl border border-white/10 text-white text-[10px] md:text-xs font-black uppercase tracking-widest mb-4 md:mb-10 shadow-2xl">
                        <i class="fas fa-star text-accent-400"></i> 4.9/5 Based on 200+ Reviews
                    </div>
                    <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-[6.5rem] font-display font-black leading-[1.05] mb-4 md:mb-10 tracking-tight">
                        Smart Savings.<br>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-accent-400 via-amber-300 to-yellow-200">Better Coverage.</span>
                    </h1>
                    <p class="text-base md:text-xl lg:text-2xl text-slate-300 mb-6 md:mb-14 max-w-xl mx-auto lg:mx-0 font-medium leading-relaxed">
                        North Carolina families save an average of <strong class="text-white bg-primary-600/50 px-2 py-0.5 rounded-lg border border-white/20 shadow-xl">$847/year</strong> by letting us shop 10+ top carriers.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                        <a href="https://billlayneinsurance.com/get-quote" class="inline-flex justify-center items-center px-8 py-3.5 md:px-12 md:py-5 text-lg md:text-xl font-black rounded-full text-indigo-950 bg-white hover:bg-accent-100 shadow-2xl transition-all hover:scale-105 btn-shine">
                            Free Quote <i class="fas fa-chevron-right ml-2 text-indigo-600"></i>
                        </a>
                        <a href="tel:3368351993" class="inline-flex justify-center items-center px-8 py-3.5 md:px-10 md:py-5 text-base md:text-lg font-bold rounded-full text-white bg-white/10 border border-white/20 hover:bg-white/20 backdrop-blur-xl transition-all">
                            <i class="fas fa-phone-alt mr-2 text-accent-400"></i> (336) 835-1993
                        </a>
                    </div>
                </div>
                
                <div class="relative hidden lg:block reveal active" style="transition-delay: 0.3s;">
                    <div class="absolute -inset-10 bg-primary-500/10 rounded-full blur-3xl animate-pulse"></div>
                    <img src="https://raw.githubusercontent.com/BillLayne/bill-layne-images/617faee947d0b12e42abfd584cd1e9a473c55444/logos/family%20image%20photo.webp" alt="Happy NC Family" class="relative rounded-[2.5rem] shadow-2xl border-4 border-white/10 w-full h-[600px] object-cover hover:scale-[1.02] transition-transform duration-700">
                    <div class="absolute -bottom-8 -left-8 glass-dark p-6 rounded-[2rem] flex items-center gap-4 animate-float border border-white/20 shadow-2xl backdrop-blur-2xl">
                        <div class="bg-gradient-to-br from-green-400 to-emerald-600 p-3 rounded-2xl text-white shadow-lg"><i class="fas fa-piggy-bank text-xl"></i></div>
                        <div>
                            <p class="text-[9px] text-indigo-200 font-bold uppercase tracking-widest">Local Avg. Savings</p>
                            <p class="text-3xl font-black text-white">$847<span class="text-sm font-medium opacity-60">/yr</span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- LOGO MARQUEE (Truly Continuous) -->
    <section class="py-12 bg-white border-b overflow-hidden relative">
        <div class="marquee-mask w-full">
            <div class="flex animate-marquee whitespace-nowrap items-center w-max gap-16 md:gap-24">
                <!-- Group 1 -->
                <div class="flex items-center gap-16 md:gap-24 py-4 px-10">
                    <img src="https://i.imgur.com/Mv5V7tV.png" class="h-10 md:h-12 w-auto object-contain opacity-50 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300">
                    <img src="https://i.imgur.com/K6kTnTa.png" class="h-10 md:h-12 w-auto object-contain opacity-50 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300">
                    <img src="https://github.com/BillLayne/bill-layne-images/blob/main/logos/Travelers%20Logo.webp?raw=true" class="h-10 md:h-12 w-auto object-contain opacity-50 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300">
                    <img src="https://i.imgur.com/HF8oPAF.png" class="h-10 md:h-12 w-auto object-contain opacity-50 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300">
                    <img src="https://imgur.com/CNFRCZc.png" class="h-10 md:h-12 w-auto object-contain opacity-50 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300">
                    <img src="https://i.imgur.com/rHIo4r5.jpg" class="h-10 md:h-12 w-auto object-contain opacity-50 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300">
                </div>
                <!-- Group 2 (Duplicate for Loop) -->
                <div class="flex items-center gap-16 md:gap-24 py-4 px-10">
                    <img src="https://i.imgur.com/Mv5V7tV.png" class="h-10 md:h-12 w-auto object-contain opacity-50 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300">
                    <img src="https://i.imgur.com/K6kTnTa.png" class="h-10 md:h-12 w-auto object-contain opacity-50 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300">
                    <img src="https://github.com/BillLayne/bill-layne-images/blob/main/logos/Travelers%20Logo.webp?raw=true" class="h-10 md:h-12 w-auto object-contain opacity-50 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300">
                    <img src="https://i.imgur.com/HF8oPAF.png" class="h-10 md:h-12 w-auto object-contain opacity-50 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300">
                    <img src="https://imgur.com/CNFRCZc.png" class="h-10 md:h-12 w-auto object-contain opacity-50 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300">
                    <img src="https://i.imgur.com/rHIo4r5.jpg" class="h-10 md:h-12 w-auto object-contain opacity-50 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300">
                </div>
            </div>
        </div>
    </section>

    <!-- INDEPENDENT VS CAPTIVE (Engaging Differentiation) -->
    <section class="py-24 bg-slate-50 relative overflow-hidden">
        <div class="absolute -right-24 top-24 w-64 h-64 bg-primary-100/50 rounded-full blur-3xl"></div>
        <div class="max-w-5xl mx-auto px-4 relative z-10">
            <div class="text-center mb-16 reveal">
                <h2 class="text-3xl md:text-5xl font-display font-black text-slate-900 mb-4 tracking-tight">The Independent Edge</h2>
                <p class="text-lg text-slate-600 max-w-2xl mx-auto">We work for <span class="text-primary-600 font-bold underline decoration-accent-400">YOU</span>, not the insurance company.</p>
            </div>
            <div class="bg-white rounded-[3rem] shadow-2xl overflow-hidden border border-slate-200 reveal">
                <div class="grid grid-cols-3 text-center bg-slate-900 text-white font-black p-6 md:p-10 uppercase tracking-widest text-[8px] md:text-xs">
                    <div class="text-left">Benefit</div>
                    <div class="text-accent-400 bg-white/5 py-1 rounded">Bill Layne</div>
                    <div class="opacity-40">Captive Brand</div>
                </div>
                <div class="grid grid-cols-3 border-b border-slate-100 p-6 md:p-8 items-center hover:bg-slate-50 transition-all group">
                    <div class="font-bold text-xs md:text-base group-hover:text-primary-600 transition-colors">Carrier Options</div>
                    <div class="text-center text-primary-600 font-black text-xs md:text-base">10+ Premium Brands</div>
                    <div class="text-center text-slate-400 text-[10px] md:text-sm italic">Only 1 Company</div>
                </div>
                <div class="grid grid-cols-3 border-b border-slate-100 p-6 md:p-8 items-center hover:bg-slate-50 transition-all group">
                    <div class="font-bold text-xs md:text-base group-hover:text-primary-600 transition-colors">Finds Lowest Rate</div>
                    <div class="text-center text-green-500 text-xl md:text-3xl"><i class="fas fa-check-circle shadow-sm"></i></div>
                    <div class="text-center text-slate-200 text-lg md:text-2xl"><i class="fas fa-times-circle"></i></div>
                </div>
                <div class="grid grid-cols-3 p-6 md:p-8 items-center hover:bg-slate-50 transition-all group">
                    <div class="font-bold text-xs md:text-base group-hover:text-primary-600 transition-colors">Personal Support</div>
                    <div class="text-center text-green-500 text-xl md:text-3xl"><i class="fas fa-check-circle shadow-sm"></i></div>
                    <div class="text-center text-slate-200 text-lg md:text-2xl"><i class="fas fa-times-circle"></i></div>
                </div>
            </div>
        </div>
    </section>

    <!-- SERVICES (Vivid Differentiation) -->
    <section id="services" class="py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4">
            <div class="text-center mb-16 reveal">
                <h2 class="text-4xl md:text-5xl font-display font-black mb-4">Protection That Counts</h2>
                <p class="text-slate-500 max-w-2xl mx-auto">Local expertise for everything from your commute to your home.</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                <!-- Auto -->
                <div class="group relative p-10 bg-indigo-50/50 rounded-[3.5rem] border-2 border-transparent hover:border-primary-500 hover:bg-white transition-all reveal hover:-translate-y-2 hover:shadow-2xl">
                    <div class="w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-primary-600 text-3xl mb-8 shadow-sm group-hover:scale-110 transition-transform"><i class="fas fa-car-side"></i></div>
                    <h3 class="text-3xl font-black mb-4 text-slate-900">Auto Insurance</h3>
                    <p class="text-slate-600 mb-8 leading-relaxed text-lg">Liability, collision, and comprehensive coverage. We shop Travelers, Progressive, and 8+ more.</p>
                    <a href="https://billlayne.github.io/Auto-Insurance-Center/" class="inline-flex items-center gap-2 font-black text-primary-600 uppercase tracking-widest text-xs py-3 px-6 bg-white rounded-full shadow-sm hover:shadow-md transition-all">Start Auto Quote <i class="fas fa-arrow-right"></i></a>
                </div>
                <!-- Home -->
                <div class="group relative p-10 bg-amber-50/50 rounded-[3.5rem] border-2 border-transparent hover:border-accent-500 hover:bg-white transition-all reveal delay-100 hover:-translate-y-2 hover:shadow-2xl">
                    <div class="w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-accent-600 text-3xl mb-8 shadow-sm group-hover:scale-110 transition-transform"><i class="fas fa-house-chimney"></i></div>
                    <h3 class="text-3xl font-black mb-4 text-slate-900">Home Insurance</h3>
                    <p class="text-slate-600 mb-8 leading-relaxed text-lg">Protect your structure and belongings with replacement cost coverage and expert advice.</p>
                    <a href="https://billlayne.github.io/NC-Home-Insurance.github.io/" class="inline-flex items-center gap-2 font-black text-accent-600 uppercase tracking-widest text-xs py-3 px-6 bg-white rounded-full shadow-sm hover:shadow-md transition-all">Start Home Quote <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>
        </div>
    </section>

    <!-- TEAM (Human Factor) -->
    <section class="py-24 bg-primary-900 text-white relative overflow-hidden">
        <div class="absolute -left-20 -bottom-20 w-80 h-80 bg-primary-600/20 rounded-full blur-[100px]"></div>
        <div class="max-w-7xl mx-auto px-4 text-center relative z-10">
            <h2 class="text-4xl font-display font-black mb-16 reveal">Your Trusted Advocate</h2>
            <div class="max-w-xl mx-auto p-12 bg-white/5 backdrop-blur-xl rounded-[4rem] border border-white/10 reveal shadow-2xl group">
                <div class="relative inline-block mb-12">
                    <div class="absolute -inset-4 bg-primary-500/20 rounded-full blur-2xl animate-pulse"></div>
                    <img src="https://i.imgur.com/c7nJZmf.jpeg" class="relative w-48 h-48 rounded-full mx-auto border-8 border-white/10 shadow-2xl object-cover object-top group-hover:scale-105 transition-transform duration-500">
                </div>
                <h3 class="text-4xl font-black mb-2 tracking-tight">Bill Layne</h3>
                <p class="text-accent-400 font-black uppercase tracking-[0.2em] text-xs mb-10">Independent Agency Owner</p>
                <p class="text-xl text-primary-100 italic mb-12 leading-relaxed font-medium">"My mission since 2004 has been simple: provide North Carolina families with the best possible protection at the lowest price."</p>
                <div class="flex flex-col sm:flex-row gap-4">
                    <a href="tel:3368351993" class="flex-1 bg-white text-primary-900 py-4 rounded-2xl font-black shadow-xl hover:bg-accent-100 transition-colors uppercase tracking-widest text-xs">Direct Call</a>
                    <a href="mailto:Bill@BillLayneInsurance.com" class="flex-1 bg-white/10 border border-white/20 py-4 rounded-2xl font-black hover:bg-white/20 transition-all uppercase tracking-widest text-xs">Email Bill</a>
                </div>
            </div>
        </div>
    </section>

    <!-- TOOLS (Conversion Optimization) -->
    <section id="tools" class="py-24 bg-slate-50 relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 relative z-10">
            <div class="text-center mb-16 reveal">
                <h2 class="text-4xl font-display font-black mb-4">Calculators & Tools</h2>
                <p class="text-slate-500 text-lg">Identify coverage gaps in seconds with our smart evaluators.</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100 reveal hover:shadow-2xl transition-all cursor-pointer group">
                    <div class="w-16 h-16 bg-blue-50 text-primary-600 rounded-2xl flex items-center justify-center text-3xl mb-8 group-hover:bg-primary-600 group-hover:text-white transition-all"><i class="fas fa-file-invoice-dollar"></i></div>
                    <h4 class="text-2xl font-black mb-3 text-slate-900">Coverage Checkup</h4>
                    <p class="text-slate-500 leading-relaxed">Analyze your current policy for hidden gaps that could cost you thousands.</p>
                </div>
                <div class="bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100 reveal delay-100 hover:shadow-2xl transition-all cursor-pointer group">
                    <div class="w-16 h-16 bg-amber-50 text-accent-600 rounded-2xl flex items-center justify-center text-3xl mb-8 group-hover:bg-accent-600 group-hover:text-white transition-all"><i class="fas fa-house-circle-check"></i></div>
                    <h4 class="text-2xl font-black mb-3 text-slate-900">Home Evaluator</h4>
                    <p class="text-slate-500 leading-relaxed">Ensure your property is insured for its actual replacement value in today's market.</p>
                </div>
                <div class="bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100 reveal delay-200 hover:shadow-2xl transition-all cursor-pointer group">
                    <div class="w-16 h-16 bg-purple-50 text-indigo-600 rounded-2xl flex items-center justify-center text-3xl mb-8 group-hover:bg-indigo-600 group-hover:text-white transition-all"><i class="fas fa-shield-virus"></i></div>
                    <h4 class="text-2xl font-black mb-3 text-slate-900">Risk Assessment</h4>
                    <p class="text-slate-500 leading-relaxed">A comprehensive review of your total liability exposure across all assets.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- TESTIMONIALS (Social Proof) -->
    <section class="py-24 bg-slate-900 text-white relative overflow-hidden">
        <div class="absolute top-0 right-0 w-[600px] h-[600px] bg-primary-600/10 rounded-full blur-[120px] pointer-events-none"></div>
        <div class="max-w-7xl mx-auto px-4 relative z-10 text-center">
            <h2 class="text-3xl md:text-5xl font-display font-black mb-16 reveal">Trusted By Your Neighbors</h2>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="glass-dark p-10 rounded-[2.5rem] text-left reveal border border-white/5">
                    <div class="flex text-accent-400 mb-6 gap-1"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                    <p class="text-lg text-slate-300 mb-8 leading-relaxed italic">"Bill saved us <strong class="text-white bg-primary-600/40 px-1.5 rounded">$823 a year</strong>! Truly exceptional service."</p>
                    <p class="font-black text-white uppercase tracking-widest text-[10px]">Sarah M. <span class="text-slate-500 ml-2">Elkin, NC</span></p>
                </div>
                <div class="glass-dark p-10 rounded-[2.5rem] text-left reveal delay-100 border border-white/5 scale-105 shadow-2xl relative">
                    <div class="absolute -top-4 left-1/2 -translate-x-1/2 bg-accent-500 text-slate-900 px-4 py-1 rounded-full text-[10px] font-black uppercase tracking-widest">Client Choice</div>
                    <div class="flex text-accent-400 mb-6 gap-1"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                    <p class="text-lg text-slate-300 mb-8 leading-relaxed italic">"Saved over $1,100 switching. Bill's claims support is unparalleled in NC."</p>
                    <p class="font-black text-white uppercase tracking-widest text-[10px]">Mike T. <span class="text-slate-500 ml-2">Mt Airy, NC</span></p>
                </div>
                <div class="glass-dark p-10 rounded-[2.5rem] text-left reveal delay-200 border border-white/5">
                    <div class="flex text-accent-400 mb-6 gap-1"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                    <p class="text-lg text-slate-300 mb-8 leading-relaxed italic">"Personal service you just don't get anymore. Highly recommend Bill!"</p>
                    <p class="font-black text-white uppercase tracking-widest text-[10px]">Jennifer R. <span class="text-slate-500 ml-2">Jonesville, NC</span></p>
                </div>
            </div>
        </div>
    </section>

    <!-- MAP & LOCATION -->
    <section class="py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid lg:grid-cols-2 gap-16 items-center">
                <div class="reveal">
                    <h2 class="text-4xl font-display font-black text-slate-900 mb-6">Serving the Heart of North Carolina</h2>
                    <p class="text-lg text-slate-600 mb-10 leading-relaxed">Local expertise matters. We understand the specific risks and rates in Surry, Wilkes, and Yadkin Counties better than anyone else.</p>
                    <div class="grid grid-cols-2 gap-6">
                        <div class="p-6 bg-slate-50 rounded-2xl border border-slate-100">
                            <h4 class="font-black text-primary-600 uppercase tracking-widest text-[10px] mb-2">Main Office</h4>
                            <p class="text-slate-800 font-bold">1283 N Bridge St<br>Elkin, NC 28621</p>
                        </div>
                        <div class="p-6 bg-slate-50 rounded-2xl border border-slate-100">
                            <h4 class="font-black text-primary-600 uppercase tracking-widest text-[10px] mb-2">Service Radius</h4>
                            <p class="text-slate-800 font-bold">Surry, Wilkes, Yadkin<br>All NC Counties</p>
                        </div>
                    </div>
                </div>
                <div class="rounded-[3.5rem] overflow-hidden shadow-2xl h-[450px] border-8 border-slate-50 reveal relative group">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3211.787496143644!2d-80.8511886847229!3d36.24764598006612!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8853b6a6c3210521%3A0xe6b0e4412f6f2c6!2sBill%20Layne%20Insurance%20Agency!5e0!3m2!1sen!2sus!4v1646145689123!5m2!1sen!2sus" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                    <div class="absolute inset-0 bg-primary-900/10 pointer-events-none group-hover:opacity-0 transition-opacity"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- SOCIAL MEDIA (Community Engagement) -->
    <section class="py-20 bg-slate-50 border-t border-slate-200">
        <div class="max-w-7xl mx-auto px-4 text-center reveal">
            <h2 class="text-xs font-black uppercase tracking-[0.4em] text-slate-400 mb-12">Join Our Community</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                <a href="https://www.facebook.com/dollarbillagency/" target="_blank" class="p-10 rounded-[2.5rem] bg-white text-blue-600 hover:bg-blue-600 hover:text-white transition-all transform hover:-translate-y-2 group shadow-sm border border-slate-200/50">
                    <i class="fab fa-facebook-f text-3xl mb-4 group-hover:scale-110 transition-transform"></i><p class="font-black uppercase tracking-widest text-[10px]">Facebook</p>
                </a>
                <a href="https://www.youtube.com/@ncautoandhome" target="_blank" class="p-10 rounded-[2.5rem] bg-white text-red-600 hover:bg-red-600 hover:text-white transition-all transform hover:-translate-y-2 group shadow-sm border border-slate-200/50">
                    <i class="fab fa-youtube text-3xl mb-4 group-hover:scale-110 transition-transform"></i><p class="font-black uppercase tracking-widest text-[10px]">YouTube</p>
                </a>
                <a href="https://www.instagram.com/ncautoandhome/" target="_blank" class="p-10 rounded-[2.5rem] bg-white text-pink-600 hover:bg-pink-600 hover:text-white transition-all transform hover:-translate-y-2 group shadow-sm border border-slate-200/50">
                    <i class="fab fa-instagram text-3xl mb-4 group-hover:scale-110 transition-transform"></i><p class="font-black uppercase tracking-widest text-[10px]">Instagram</p>
                </a>
                <a href="https://x.com/shopsavecompare" target="_blank" class="p-10 rounded-[2.5rem] bg-white text-slate-900 hover:bg-slate-900 hover:text-white transition-all transform hover:-translate-y-2 group shadow-sm border border-slate-200/50">
                    <i class="fab fa-x-twitter text-3xl mb-4 group-hover:scale-110 transition-transform"></i><p class="font-black uppercase tracking-widest text-[10px]">X / Twitter</p>
                </a>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section class="py-24 bg-white">
        <div class="max-w-3xl mx-auto px-4 reveal">
            <h2 class="text-3xl font-black text-center mb-10 text-slate-900">Expert Insurance FAQ</h2>
            <div class="space-y-4">
                <div class="bg-slate-50 rounded-2xl overflow-hidden border border-slate-100">
                    <button class="accordion-btn w-full px-8 py-5 text-left flex justify-between font-bold text-slate-800">Why should I use an independent agent?<i class="fas fa-chevron-down transition-transform"></i></button>
                    <div class="accordion-content px-8">
                        <div class="pb-6 pt-4 border-t text-slate-600 leading-relaxed">Unlike a "captive" agent (like State Farm or Allstate) who can only offer one brand, we shop 10+ carriers. This ensures you always get the best rate and coverage available on the market.</div>
                    </div>
                </div>
                <div class="bg-slate-50 rounded-2xl overflow-hidden border border-slate-100">
                    <button class="accordion-btn w-full px-8 py-5 text-left flex justify-between font-bold text-slate-800">Do you offer same-day coverage?<i class="fas fa-chevron-down transition-transform"></i></button>
                    <div class="accordion-content px-8">
                        <div class="pb-6 pt-4 border-t text-slate-600 leading-relaxed">Absolutely. In many cases, we can get you quoted and covered within hours. Just give us a call at (336) 835-1993.</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA (Vivid Conversion Focus) -->
    <section class="py-24 bg-gradient-to-br from-primary-600 to-indigo-900 text-white text-center relative overflow-hidden">
        <div class="max-w-4xl mx-auto px-4 relative z-10 reveal">
            <h2 class="text-4xl md:text-6xl font-display font-black mb-6 tracking-tight">Stop Overpaying Today.</h2>
            <p class="text-xl text-indigo-100 mb-12 max-w-2xl mx-auto">Takes less than 2 minutes to start your journey toward real savings.</p>
            <div class="flex flex-col sm:flex-row gap-5 justify-center">
                <a href="tel:3368351993" class="bg-white text-primary-900 px-12 py-5 rounded-full font-black text-lg hover:scale-105 transition-transform shadow-2xl">Call Bill Now</a>
                <a href="https://billlayneinsurance.com/get-quote" class="bg-transparent border-2 border-white/30 hover:border-white px-12 py-5 rounded-full font-black text-lg text-white transition-all btn-shine">Start Online Quote</a>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="bg-slate-950 text-slate-500 py-20 border-t border-white/5 pb-32 md:pb-20">
        <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-4 gap-12">
            <div class="col-span-1 md:col-span-1">
                <h4 class="text-white font-display font-black text-2xl mb-8 leading-tight">Bill Layne<br><span class="text-primary-500">Insurance</span></h4>
                <p class="text-sm leading-loose mb-10 opacity-60">Protecting North Carolina families and businesses since 2004 with personalized, local service.</p>
                <div class="flex gap-4">
                    <a href="https://www.facebook.com/dollarbillagency/" class="w-12 h-12 rounded-2xl bg-white/5 flex items-center justify-center text-slate-400 hover:text-white hover:bg-primary-600 transition-all"><i class="fab fa-facebook-f text-xl"></i></a>
                    <a href="https://www.youtube.com/@ncautoandhome" class="w-12 h-12 rounded-2xl bg-white/5 flex items-center justify-center text-slate-400 hover:text-white hover:bg-red-600 transition-all"><i class="fab fa-youtube text-xl"></i></a>
                </div>
            </div>
            <div>
                <h5 class="text-white font-black uppercase tracking-widest text-[10px] mb-8">Direct Contact</h5>
                <ul class="space-y-6 text-sm">
                    <li><a href="tel:3368351993" class="hover:text-primary-400 transition-colors flex items-center gap-4"><i class="fas fa-phone-alt text-primary-500"></i> (336) 835-1993</a></li>
                    <li class="flex items-start gap-4"><i class="fas fa-map-marker-alt text-primary-500 mt-1"></i> <span>1283 N Bridge St<br>Elkin, NC 28621</span></li>
                </ul>
            </div>
            <div>
                <h5 class="text-white font-black uppercase tracking-widest text-[10px] mb-8">Service Areas</h5>
                <p class="text-sm leading-loose opacity-60">Elkin, Mount Airy, Jonesville, Wilkesboro, Dobson, and all of North Carolina.</p>
            </div>
            <div>
                <h5 class="text-white font-black uppercase tracking-widest text-[10px] mb-8">Agency Status</h5>
                <div id="status-card" class="bg-white/5 p-6 rounded-3xl border border-white/10">
                    <div class="flex items-center gap-3 mb-2">
                        <span id="footer-dot" class="w-2.5 h-2.5 rounded-full bg-slate-500"></span>
                        <span id="status-text" class="text-[10px] font-black uppercase tracking-widest text-slate-400">Offline</span>
                    </div>
                    <p class="text-[9px] leading-relaxed opacity-40 uppercase tracking-widest">Mon-Fri: 9am - 5pm EST</p>
                </div>
            </div>
        </div>
        <div class="max-w-7xl mx-auto px-4 mt-24 pt-10 border-t border-white/5 text-center text-[9px] font-bold uppercase tracking-[0.5em] opacity-30">
            &copy; 2025 Bill Layne Insurance Agency â€¢ Independent Licensed NC Agent
        </div>
    </footer>

    <!-- MOBILE DOCK -->
    <div class="md:hidden fixed bottom-0 left-0 w-full z-[60] glass-nav border-t border-slate-200 shadow-2xl pb-safe h-20 flex items-center">
        <div class="grid grid-cols-3 w-full h-full items-center">
            <a href="tel:3368351993" class="flex flex-col items-center justify-center text-slate-600 transition-colors active:text-primary-600">
                <i class="fas fa-phone-alt text-lg"></i><span class="text-[9px] font-black uppercase tracking-widest mt-1">Call</span>
            </a>
            <div class="relative flex justify-center">
                <a href="https://billlayneinsurance.com/get-quote" class="absolute -top-10 w-16 h-16 bg-gradient-to-br from-primary-600 to-indigo-700 rounded-full shadow-2xl border-4 border-white flex items-center justify-center text-white text-2xl animate-pulse-glow">
                    <i class="fas fa-calculator"></i>
                </a>
            </div>
            <button id="mobile-chat-btn" class="flex flex-col items-center justify-center text-slate-600 transition-colors active:text-primary-600">
                <i class="fas fa-robot text-lg"></i><span class="text-[9px] font-black uppercase tracking-widest mt-1">Ask AI</span>
            </button>
        </div>
    </div>

    <!-- AI CHAT WIDGET -->
    <div id="ai-chat-container" class="fixed bottom-24 right-6 z-[60] flex flex-col items-end pointer-events-none">
        <div id="chat-window" class="chat-closed bg-white w-[85vw] md:w-96 h-[500px] rounded-[3rem] shadow-2xl border border-slate-200 flex flex-col mb-4 overflow-hidden origin-bottom-right transition-all">
            <div class="bg-primary-600 p-6 flex justify-between items-center text-white">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-md border border-white/10"><i class="fas fa-robot text-sm"></i></div>
                    <div><span class="font-bold text-sm block tracking-wide">Bill's AI Guide</span><span class="text-[10px] opacity-80 uppercase tracking-widest font-black">Live & Ready</span></div>
                </div>
                <button id="close-chat" class="w-8 h-8 flex items-center justify-center hover:bg-white/20 rounded-full transition-colors"><i class="fas fa-times"></i></button>
            </div>
            <div id="chat-messages" class="flex-1 p-6 bg-slate-50 overflow-y-auto space-y-4 text-sm font-medium">
                <div class="flex gap-3">
                    <div class="w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0 text-primary-600 mt-1"><i class="fas fa-robot text-xs"></i></div>
                    <div class="bg-white p-4 rounded-2xl border border-slate-200 rounded-tl-none shadow-sm leading-relaxed">ðŸ‘‹ Welcome! I'm Bill's digital assistant. I can help you understand coverage or start a quote. What's on your mind?</div>
                </div>
            </div>
            <form id="chat-form" class="p-4 bg-white border-t flex gap-2 pointer-events-auto">
                <input id="chat-input" placeholder="Type your question..." class="flex-1 bg-slate-50 border border-slate-200 rounded-full px-5 py-3 text-sm focus:outline-none focus:border-primary-500 transition-all" required>
                <button type="submit" class="bg-primary-600 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg hover:scale-105 active:scale-95 transition-transform"><i class="fas fa-paper-plane"></i></button>
            </form>
        </div>
        <button id="desktop-chat-toggle" class="hidden md:flex items-center justify-center w-16 h-16 bg-primary-600 text-white rounded-2xl shadow-2xl z-50 hover:scale-110 transition-transform pointer-events-auto">
            <i class="fas fa-robot text-2xl animate-pulse"></i>
        </button>
    </div>

    <!-- SCRIPTS -->
    <script type="module">
        import { GoogleGenAI } from "@google/genai";

        document.addEventListener('DOMContentLoaded', () => {
            const navbar = document.getElementById('navbar');
            const menuBtn = document.getElementById('menu-btn');
            const menuClose = document.getElementById('menu-close');
            const menuDrawer = document.getElementById('menu-drawer');
            const menuOverlay = document.getElementById('menu-overlay');
            const hamburgers = document.querySelectorAll('.nav-hamburger-line');
            const logoText = document.getElementById('nav-logo-text');
            const logoAccent = document.getElementById('nav-logo-accent');
            const tagline = document.getElementById('nav-tagline');

            // Mobile Menu Controller
            const toggleMenu = (show) => {
                menuDrawer.classList.toggle('translate-x-full', !show);
                menuOverlay.classList.toggle('opacity-0', !show);
                menuOverlay.classList.toggle('pointer-events-none', !show);
                document.body.style.overflow = show ? 'hidden' : '';
            };
            menuBtn.onclick = () => toggleMenu(true);
            menuClose.onclick = () => toggleMenu(false);
            menuOverlay.onclick = () => toggleMenu(false);

            // Scroll Effects
            window.addEventListener('scroll', () => {
                const scrolled = window.scrollY > 30;
                navbar.classList.toggle('glass-nav', scrolled);
                navbar.classList.toggle('bg-transparent', !scrolled);
                navbar.classList.toggle('h-16', scrolled);
                navbar.classList.toggle('h-20', !scrolled && window.innerWidth < 768);
                
                logoText.classList.toggle('text-white', !scrolled);
                logoText.classList.toggle('text-slate-900', scrolled);
                logoAccent.classList.toggle('text-accent-400', !scrolled);
                logoAccent.classList.toggle('text-primary-600', scrolled);
                tagline.classList.toggle('text-indigo-200', !scrolled);
                tagline.classList.toggle('text-slate-400', scrolled);
                hamburgers.forEach(line => line.classList.toggle('bg-white', !scrolled));
                hamburgers.forEach(line => line.classList.toggle('bg-slate-900', scrolled));
            });

            // Intersection Observer for Reveal Animations
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('active'); });
            }, { threshold: 0.1 });
            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

            // Business Hours & Live Status
            const checkHours = () => {
                const now = new Date();
                const est = new Date(now.toLocaleString("en-US", {timeZone: "America/New_York"}));
                const day = est.getDay();
                const hour = est.getHours();
                const isOpen = (day >= 1 && day <= 5) && (hour >= 9 && hour < 17);
                
                const dot1 = document.getElementById('status-dot');
                const dot2 = document.getElementById('footer-dot');
                const text = document.getElementById('status-text');
                
                if(dot1) dot1.classList.toggle('hidden', !isOpen);
                if(dot2) {
                  dot2.classList.toggle('bg-green-500', isOpen);
                  dot2.classList.toggle('bg-slate-500', !isOpen);
                }
                if(text) {
                  text.textContent = isOpen ? 'Live & Online' : 'Currently Offline';
                  text.classList.toggle('text-green-500', isOpen);
                }
            };
            checkHours(); setInterval(checkHours, 60000);

            // Accordion Logic
            document.querySelectorAll('.accordion-btn').forEach(btn => {
                btn.onclick = () => {
                    const content = btn.nextElementSibling;
                    const isOpen = content.classList.contains('open');
                    content.classList.toggle('open');
                    content.style.maxHeight = isOpen ? '0' : content.scrollHeight + 'px';
                    content.style.opacity = isOpen ? '0' : '1';
                    btn.querySelector('.fa-chevron-down').style.transform = isOpen ? 'rotate(0)' : 'rotate(180deg)';
                };
            });

            // AI CHATBOT (Gemini 3 Flash Integration)
            const chatWindow = document.getElementById('chat-window');
            const chatToggle = document.getElementById('desktop-chat-toggle');
            const mobileChatBtn = document.getElementById('mobile-chat-btn');
            const closeChat = document.getElementById('close-chat');
            const chatForm = document.getElementById('chat-form');
            const chatInput = document.getElementById('chat-input');
            const chatMessages = document.getElementById('chat-messages');

            const toggleChat = () => {
                const isOpen = chatWindow.classList.contains('chat-open');
                chatWindow.classList.toggle('chat-open', !isOpen);
                chatWindow.classList.toggle('chat-closed', isOpen);
                if (!isOpen) setTimeout(() => chatInput.focus(), 300);
            };
            chatToggle.onclick = toggleChat;
            mobileChatBtn.onclick = toggleChat;
            closeChat.onclick = toggleChat;

            chatForm.onsubmit = async (e) => {
                e.preventDefault();
                const prompt = chatInput.value.trim();
                if (!prompt) return;
                chatInput.value = '';

                // Add User Bubble
                const userMsg = document.createElement('div');
                userMsg.className = 'flex justify-end';
                userMsg.innerHTML = `<div class="bg-primary-600 text-white p-4 rounded-2xl rounded-tr-none shadow-lg max-w-[85%] border border-primary-500">${prompt}</div>`;
                chatMessages.appendChild(userMsg);
                chatMessages.scrollTop = chatMessages.scrollHeight;

                // Add Typing Indicator
                const typing = document.createElement('div');
                typing.className = 'flex gap-3 animate-pulse';
                typing.innerHTML = `<div class="w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0 text-primary-600 mt-1"><i class="fas fa-robot text-xs"></i></div><div class="bg-white p-4 rounded-2xl border border-slate-200 rounded-tl-none shadow-sm text-slate-400 italic">Guide is thinking...</div>`;
                chatMessages.appendChild(typing);
                chatMessages.scrollTop = chatMessages.scrollHeight;

                try {
                    const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });
                    const response = await ai.models.generateContent({
                        model: 'gemini-3-flash-preview',
                        contents: prompt,
                        config: {
                            systemInstruction: "You are the AI Assistant for Bill Layne Insurance in Elkin, NC. Phone: (336) 835-1993. Independent agency since 2004. We shop 10+ carriers like Travelers and Progressive to save clients an avg of $847/year. Tone: Professional yet neighborly. Keep answers brief (under 3 sentences if possible). Always mention calling (336) 835-1993 for the absolute best quote.",
                            temperature: 0.8
                        }
                    });

                    typing.remove();
                    const botMsg = document.createElement('div');
                    botMsg.className = 'flex gap-3';
                    botMsg.innerHTML = `<div class="w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0 text-primary-600 mt-1"><i class="fas fa-robot text-xs"></i></div><div class="bg-white p-4 rounded-2xl border border-slate-200 rounded-tl-none shadow-sm leading-relaxed max-w-[85%] text-slate-700">${response.text}</div>`;
                    chatMessages.appendChild(botMsg);
                } catch (err) {
                    typing.remove();
                    const errBubble = document.createElement('div');
                    errBubble.className = 'text-center text-[10px] text-red-500 italic mt-2 uppercase tracking-widest font-black bg-red-50 py-2 rounded-xl';
                    errBubble.textContent = 'Connection Timeout. Please call (336) 835-1993.';
                    chatMessages.appendChild(errBubble);
                }
                chatMessages.scrollTop = chatMessages.scrollHeight;
            };
        });
    </script>
</body>
</html>
