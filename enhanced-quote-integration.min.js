function createEnhancedQuoteHTML(){return'\n    \x3c!-- Enhanced Quote Section Styles --\x3e\n    <style>\n        /* Enhanced Quote Section Styles */\n        .enhanced-hero-form {\n            background: white;\n            border-radius: 20px;\n            padding: 2rem;\n            box-shadow: 0 10px 30px rgba(0,0,0,0.1);\n            width: 100%;\n            max-width: 500px;\n        }\n\n        .quote-type-selector {\n            display: flex;\n            gap: 0.5rem;\n            margin-bottom: 1.5rem;\n        }\n\n        .quote-type-btn {\n            flex: 1;\n            padding: 0.75rem;\n            background: #f0f0f0;\n            border: 2px solid transparent;\n            border-radius: 8px;\n            cursor: pointer;\n            transition: all 0.3s ease;\n            font-weight: 600;\n            text-align: center;\n            font-size: 0.9rem;\n        }\n\n        .quote-type-btn:hover {\n            background: #e0e0e0;\n            transform: translateY(-2px);\n        }\n\n        .quote-type-btn.active {\n            background: var(--color-primary);\n            color: white;\n            border-color: var(--color-primary);\n        }\n\n        .mini-form-step {\n            display: none;\n            animation: fadeIn 0.5s ease;\n        }\n\n        .mini-form-step.active {\n            display: block;\n        }\n\n        .progress-mini {\n            height: 4px;\n            background: #e0e0e0;\n            border-radius: 2px;\n            margin-bottom: 1.5rem;\n            overflow: hidden;\n        }\n\n        .progress-mini-fill {\n            height: 100%;\n            background: var(--color-primary);\n            transition: width 0.5s ease;\n        }\n\n        .form-nav-mini {\n            display: flex;\n            gap: 1rem;\n            margin-top: 1.5rem;\n        }\n\n        .btn-mini {\n            flex: 1;\n            padding: 0.75rem;\n            border: none;\n            border-radius: 8px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.3s ease;\n        }\n\n        .btn-mini-prev {\n            background: #f0f0f0;\n            color: var(--color-text);\n        }\n\n        .btn-mini-next {\n            background: var(--color-primary);\n            color: white;\n        }\n\n        .btn-mini:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 4px 15px rgba(0,0,0,0.1);\n        }\n\n        .btn-mini:disabled {\n            opacity: 0.5;\n            cursor: not-allowed;\n            transform: none;\n        }\n\n        .upload-mini {\n            border: 2px dashed #ccc;\n            border-radius: 8px;\n            padding: 1.5rem;\n            text-align: center;\n            background: #f9f9f9;\n            cursor: pointer;\n            transition: all 0.3s ease;\n        }\n\n        .upload-mini:hover {\n            border-color: var(--color-primary);\n            background: #f0f4ff;\n        }\n\n        @keyframes fadeIn {\n            from { opacity: 0; transform: translateY(10px); }\n            to { opacity: 1; transform: translateY(0); }\n        }\n    </style>\n\n    <div class="enhanced-hero-form">\n        <h3 style="margin-bottom: 1rem; text-align: center;">Get Your Free Quote</h3>\n        \n        \x3c!-- Quote Type Selector --\x3e\n        <div class="quote-type-selector">\n            <button class="quote-type-btn active" onclick="selectQuoteType(\'auto\')">\n                üöó Auto\n            </button>\n            <button class="quote-type-btn" onclick="selectQuoteType(\'home\')">\n                üè† Home\n            </button>\n        </div>\n\n        \x3c!-- Progress Bar --\x3e\n        <div class="progress-mini">\n            <div class="progress-mini-fill" id="mini-progress" style="width: 33.33%"></div>\n        </div>\n\n        \x3c!-- Auto Insurance Mini Form --\x3e\n        <form id="auto-mini-form" class="mini-quote-form active" action="https://formspree.io/f/xkgbdjgy" method="POST" enctype="multipart/form-data">\n            <input type="hidden" name="form_type" value="Auto Insurance Quick Quote">\n            \n            \x3c!-- Step 1: Basic Info --\x3e\n            <div class="mini-form-step active" data-step="1">\n                <div class="form-group">\n                    <label for="auto-name" class="sr-only">Your Name</label>\n                    <input type="text" id="auto-name" name="name" class="form-control" placeholder="Your Name" required>\n                </div>\n                <div class="form-group">\n                    <label for="auto-phone" class="sr-only">Phone Number</label>\n                    <input type="tel" id="auto-phone" name="phone" class="form-control" placeholder="Phone Number" required>\n                </div>\n                <div class="form-group">\n                    <label for="auto-email" class="sr-only">Email Address</label>\n                    <input type="email" id="auto-email" name="email" class="form-control" placeholder="Email Address" required>\n                </div>\n                <div class="form-group">\n                    <label for="auto-zip" class="sr-only">ZIP Code</label>\n                    <input type="text" id="auto-zip" name="zip" class="form-control" placeholder="ZIP Code" pattern="[0-9]{5}" required>\n                </div>\n            </div>\n\n            \x3c!-- Step 2: Vehicle Info --\x3e\n            <div class="mini-form-step" data-step="2">\n                <h4 style="margin-bottom: 1rem;">Vehicle Information</h4>\n                <div class="form-group">\n                    <label for="vehicle-year" class="sr-only">Vehicle Year</label>\n                    <input type="number" id="vehicle-year" name="vehicle_year" class="form-control" placeholder="Year (e.g., 2020)" min="1900" max="2025" required>\n                </div>\n                <div class="form-group">\n                    <label for="vehicle-make" class="sr-only">Vehicle Make</label>\n                    <input type="text" id="vehicle-make" name="vehicle_make" class="form-control" placeholder="Make (e.g., Honda)" required>\n                </div>\n                <div class="form-group">\n                    <label for="vehicle-model" class="sr-only">Vehicle Model</label>\n                    <input type="text" id="vehicle-model" name="vehicle_model" class="form-control" placeholder="Model (e.g., Civic)" required>\n                </div>\n            </div>\n\n            \x3c!-- Step 3: Upload Option --\x3e\n            <div class="mini-form-step" data-step="3">\n                <h4 style="margin-bottom: 1rem;">Current Insurance (Optional)</h4>\n                <p style="font-size: 0.9rem; color: var(--color-text-secondary); margin-bottom: 1rem;">\n                    Upload your declaration page for faster, more accurate quotes\n                </p>\n                <div class="upload-mini" onclick="document.getElementById(\'dec-page-mini\').click()">\n                    <span style="font-size: 2rem;">üìÑ</span>\n                    <p style="margin: 0.5rem 0;">Click to upload declaration page</p>\n                    <p style="font-size: 0.8rem; color: var(--color-text-secondary);">PDF, JPG, or PNG</p>\n                    <input type="file" id="dec-page-mini" name="declaration_page" accept=".pdf,.jpg,.jpeg,.png" style="display: none;" onchange="handleMiniFileUpload(event, \'auto\')">\n                    <div id="auto-file-preview" style="display: none; margin-top: 0.5rem; color: var(--color-success);">\n                        ‚úì <span id="auto-file-name"></span>\n                    </div>\n                </div>\n                <div style="text-align: center; margin-top: 1rem;">\n                    <a href="#" onclick="skipUpload(\'auto\'); return false;" style="font-size: 0.9rem; color: var(--color-primary);">Skip this step ‚Üí</a>\n                </div>\n            </div>\n\n            \x3c!-- Navigation --\x3e\n            <div class="form-nav-mini">\n                <button type="button" class="btn-mini btn-mini-prev" onclick="previousMiniStep(\'auto\')" disabled>Back</button>\n                <button type="button" class="btn-mini btn-mini-next" onclick="nextMiniStep(\'auto\')">Next</button>\n                <button type="submit" class="btn-mini btn-mini-next" style="display: none; width: 100%;">Get My Quote</button>\n            </div>\n        </form>\n\n        \x3c!-- Home Insurance Mini Form --\x3e\n        <form id="home-mini-form" class="mini-quote-form" style="display: none;" action="https://formspree.io/f/xkgbdjgy" method="POST">\n            <input type="hidden" name="form_type" value="Homeowners Insurance Quick Quote">\n            \n            \x3c!-- Step 1: Basic Info --\x3e\n            <div class="mini-form-step active" data-step="1">\n                <div class="form-group">\n                    <label for="home-name" class="sr-only">Your Name</label>\n                    <input type="text" id="home-name" name="name" class="form-control" placeholder="Your Name" required>\n                </div>\n                <div class="form-group">\n                    <label for="home-phone" class="sr-only">Phone Number</label>\n                    <input type="tel" id="home-phone" name="phone" class="form-control" placeholder="Phone Number" required>\n                </div>\n                <div class="form-group">\n                    <label for="home-email" class="sr-only">Email Address</label>\n                    <input type="email" id="home-email" name="email" class="form-control" placeholder="Email Address" required>\n                </div>\n            </div>\n\n            \x3c!-- Step 2: Property Info --\x3e\n            <div class="mini-form-step" data-step="2">\n                <h4 style="margin-bottom: 1rem;">Property Information</h4>\n                <div class="form-group">\n                    <label for="property-address" class="sr-only">Property Address</label>\n                    <input type="text" id="property-address" name="property_address" class="form-control" placeholder="Property Address" required>\n                </div>\n                <div class="form-group">\n                    <label for="property-zip" class="sr-only">ZIP Code</label>\n                    <input type="text" id="property-zip" name="property_zip" class="form-control" placeholder="ZIP Code" pattern="[0-9]{5}" required>\n                </div>\n                <div class="form-group">\n                    <label for="property-type" class="sr-only">Property Type</label>\n                    <select id="property-type" name="property_type" class="form-control" required>\n                        <option value="">Property Type</option>\n                        <option value="Single Family">Single Family Home</option>\n                        <option value="Townhouse">Townhouse</option>\n                        <option value="Condo">Condominium</option>\n                        <option value="Mobile">Mobile Home</option>\n                    </select>\n                </div>\n                <div class="form-group">\n                    <label for="year-built" class="sr-only">Year Built</label>\n                    <input type="number" id="year-built" name="year_built" class="form-control" placeholder="Year Built" min="1800" max="2025" required>\n                </div>\n            </div>\n\n            \x3c!-- Step 3: Additional Info --\x3e\n            <div class="mini-form-step" data-step="3">\n                <h4 style="margin-bottom: 1rem;">Quick Details</h4>\n                <div class="form-group">\n                    <label for="square-feet" class="sr-only">Square Footage</label>\n                    <input type="number" id="square-feet" name="square_feet" class="form-control" placeholder="Square Footage" required>\n                </div>\n                <div class="form-group">\n                    <label for="home-value" class="sr-only">Estimated Home Value</label>\n                    <input type="number" id="home-value" name="home_value" class="form-control" placeholder="Estimated Home Value" required>\n                </div>\n                <div class="form-group">\n                    <label for="current-insurance" class="sr-only">Current Insurance Status</label>\n                    <select id="current-insurance" name="current_insurance" class="form-control">\n                        <option value="">Current Insurance Status</option>\n                        <option value="Currently Insured">Currently Insured</option>\n                        <option value="Shopping Around">Shopping Around</option>\n                        <option value="First Time Buyer">First Time Buyer</option>\n                    </select>\n                </div>\n            </div>\n\n            \x3c!-- Navigation --\x3e\n            <div class="form-nav-mini">\n                <button type="button" class="btn-mini btn-mini-prev" onclick="previousMiniStep(\'home\')" disabled>Back</button>\n                <button type="button" class="btn-mini btn-mini-next" onclick="nextMiniStep(\'home\')">Next</button>\n                <button type="submit" class="btn-mini btn-mini-next" style="display: none; width: 100%;">Get My Quote</button>\n            </div>\n        </form>\n\n        <p class="form-note" style="margin-top: 1rem;">‚úì No spam, ever. Your information is secure.</p>\n        <p style="text-align: center; margin-top: 1rem; font-size: 0.9rem;">\n            <a href="enhanced-quote-section.html" style="color: var(--color-primary);">Need a detailed quote? Click here ‚Üí</a>\n        </p>\n    </div>\n    '}const miniFormStates={auto:{currentStep:1,totalSteps:3},home:{currentStep:1,totalSteps:3}};function selectQuoteType(e){document.querySelectorAll(".quote-type-btn").forEach(e=>{e.classList.remove("active")}),event.target.classList.add("active"),document.querySelectorAll(".mini-quote-form").forEach(e=>{e.style.display="none",e.classList.remove("active")}),document.getElementById(`${e}-mini-form`).style.display="block",document.getElementById(`${e}-mini-form`).classList.add("active"),updateMiniProgress(e)}function nextMiniStep(e){const n=miniFormStates[e],t=document.getElementById(`${e}-mini-form`),o=t.querySelector(".mini-form-step.active"),r=o.querySelectorAll("input[required], select[required]");let i=!0;if(r.forEach(e=>{e.value?e.style.borderColor="":(e.style.borderColor="#ff4444",i=!1)}),i&&n.currentStep<n.totalSteps){o.classList.remove("active"),n.currentStep++;t.querySelector(`.mini-form-step[data-step="${n.currentStep}"]`).classList.add("active"),updateMiniProgress(e),updateMiniButtons(e)}}function previousMiniStep(e){const n=miniFormStates[e],t=document.getElementById(`${e}-mini-form`);if(n.currentStep>1){t.querySelector(".mini-form-step.active").classList.remove("active"),n.currentStep--;t.querySelector(`.mini-form-step[data-step="${n.currentStep}"]`).classList.add("active"),updateMiniProgress(e),updateMiniButtons(e)}}function updateMiniProgress(e){const n=miniFormStates[e],t=document.getElementById("mini-progress"),o=n.currentStep/n.totalSteps*100;t.style.width=`${o}%`}function updateMiniButtons(e){const n=miniFormStates[e],t=document.getElementById(`${e}-mini-form`),o=t.querySelector(".btn-mini-prev"),r=t.querySelector(".btn-mini-next"),i=t.querySelector('button[type="submit"]');o.disabled=1===n.currentStep,n.currentStep===n.totalSteps?(r.style.display="none",i.style.display="block"):(r.style.display="block",i.style.display="none")}function handleMiniFileUpload(e,n){const t=e.target.files[0];t&&(document.getElementById(`${n}-file-name`).textContent=t.name,document.getElementById(`${n}-file-preview`).style.display="block")}function skipUpload(e){document.getElementById(`${e}-mini-form`).querySelector('button[type="submit"]').click()}function setupMiniFormSubmissions(){["auto-mini-form","home-mini-form"].forEach(e=>{const n=document.getElementById(e);n&&n.addEventListener("submit",function(e){e.preventDefault();const t=n.querySelector('button[type="submit"]');t.disabled=!0,t.textContent="Submitting...";const o=new FormData(n);fetch(n.action,{method:"POST",body:o,headers:{Accept:"application/json"}}).then(e=>{if(!e.ok)throw new Error("Submission failed");document.querySelector(".enhanced-hero-form").innerHTML='\n                            <div style="text-align: center; padding: 2rem;">\n                                <div style="font-size: 3rem; color: var(--color-success); margin-bottom: 1rem;">‚úÖ</div>\n                                <h3 style="margin-bottom: 1rem;">Thank You!</h3>\n                                <p style="color: var(--color-text-secondary);">\n                                    We\'ve received your information and will contact you within 24 hours with your personalized quote.\n                                </p>\n                                <p style="margin-top: 1.5rem;">\n                                    <strong>Need immediate assistance?</strong><br>\n                                    Call us at <a href="tel:3368351993" style="color: var(--color-primary);">(336) 835-1993</a>\n                                </p>\n                                <a href="enhanced-quote-section.html" class="btn btn--primary" style="margin-top: 1.5rem; display: inline-block;">\n                                    Get Detailed Quote\n                                </a>\n                            </div>\n                        '}).catch(e=>{alert("There was a problem submitting your form. Please try again or call us at (336) 835-1993."),t.disabled=!1,t.textContent="Get My Quote"})})})}function initializeEnhancedQuote(){const e=document.querySelector(".hero__form");e?(e.innerHTML=createEnhancedQuoteHTML(),setupMiniFormSubmissions(),updateMiniButtons("auto"),updateMiniButtons("home"),console.log("Enhanced quote form initialized successfully")):console.error("Could not find existing quote form to replace")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initializeEnhancedQuote):initializeEnhancedQuote(),window.selectQuoteType=selectQuoteType,window.nextMiniStep=nextMiniStep,window.previousMiniStep=previousMiniStep,window.handleMiniFileUpload=handleMiniFileUpload,window.skipUpload=skipUpload;